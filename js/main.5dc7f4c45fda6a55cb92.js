(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"/HNH":function(e,n){e.exports='#define GLSLIFY 1\n//\n// GLSL textureless classic 3D noise "cnoise",\n// with an RSL-style periodic variant "pnoise".\n// Author:  Stefan Gustavson (stefan.gustavson@liu.se)\n// Version: 2011-10-11\n//\n// Many thanks to Ian McEwan of Ashima Arts for the\n// ideas for permutation and gradient selection.\n//\n// Copyright (c) 2011 Stefan Gustavson. All rights reserved.\n// Distributed under the MIT license. See LICENSE file.\n// https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute_1(vec4 x)\n{\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec3 fade(vec3 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n// Classic Perlin noise\nfloat cnoise(vec3 P)\n{\n  vec3 Pi0 = floor(P); // Integer part for indexing\n  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1\n  Pi0 = mod289(Pi0);\n  Pi1 = mod289(Pi1);\n  vec3 Pf0 = fract(P); // Fractional part for interpolation\n  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = Pi0.zzzz;\n  vec4 iz1 = Pi1.zzzz;\n\n  vec4 ixy = permute_1(permute_1(ix) + iy);\n  vec4 ixy0 = permute_1(ixy + iz0);\n  vec4 ixy1 = permute_1(ixy + iz1);\n\n  vec4 gx0 = ixy0 * (1.0 / 7.0);\n  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n  gx0 = fract(gx0);\n  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n  vec4 sz0 = step(gz0, vec4(0.0));\n  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n  vec4 gx1 = ixy1 * (1.0 / 7.0);\n  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n  gx1 = fract(gx1);\n  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n  vec4 sz1 = step(gz1, vec4(0.0));\n  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n  g000 *= norm0.x;\n  g010 *= norm0.y;\n  g100 *= norm0.z;\n  g110 *= norm0.w;\n  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n  g001 *= norm1.x;\n  g011 *= norm1.y;\n  g101 *= norm1.z;\n  g111 *= norm1.w;\n\n  float n000 = dot(g000, Pf0);\n  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n  float n111 = dot(g111, Pf1);\n\n  vec3 fade_xyz = fade(Pf0);\n  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n  return 2.2 * n_xyz;\n}\n\n// Permutation polynomial: (34x^2 + x) mod 289\nvec3 permute_0(vec3 x) {\n  return mod((34.0 * x + 1.0) * x, 289.0);\n}\n\nvec3 dist(vec3 x, vec3 y, vec3 z,  bool manhattanDistance) {\n  return manhattanDistance ?  abs(x) + abs(y) + abs(z) :  (x * x + y * y + z * z);\n}\n\nvec2 worley(vec3 P, float jitter, bool manhattanDistance) {\nfloat K = 0.142857142857; // 1/7\nfloat Ko = 0.428571428571; // 1/2-K/2\nfloat  K2 = 0.020408163265306; // 1/(7*7)\nfloat Kz = 0.166666666667; // 1/6\nfloat Kzo = 0.416666666667; // 1/2-1/6*2\n\n\tvec3 Pi = mod(floor(P), 289.0);\n \tvec3 Pf = fract(P) - 0.5;\n\n\tvec3 Pfx = Pf.x + vec3(1.0, 0.0, -1.0);\n\tvec3 Pfy = Pf.y + vec3(1.0, 0.0, -1.0);\n\tvec3 Pfz = Pf.z + vec3(1.0, 0.0, -1.0);\n\n\tvec3 p = permute_0(Pi.x + vec3(-1.0, 0.0, 1.0));\n\tvec3 p1 = permute_0(p + Pi.y - 1.0);\n\tvec3 p2 = permute_0(p + Pi.y);\n\tvec3 p3 = permute_0(p + Pi.y + 1.0);\n\n\tvec3 p11 = permute_0(p1 + Pi.z - 1.0);\n\tvec3 p12 = permute_0(p1 + Pi.z);\n\tvec3 p13 = permute_0(p1 + Pi.z + 1.0);\n\n\tvec3 p21 = permute_0(p2 + Pi.z - 1.0);\n\tvec3 p22 = permute_0(p2 + Pi.z);\n\tvec3 p23 = permute_0(p2 + Pi.z + 1.0);\n\n\tvec3 p31 = permute_0(p3 + Pi.z - 1.0);\n\tvec3 p32 = permute_0(p3 + Pi.z);\n\tvec3 p33 = permute_0(p3 + Pi.z + 1.0);\n\n\tvec3 ox11 = fract(p11*K) - Ko;\n\tvec3 oy11 = mod(floor(p11*K), 7.0)*K - Ko;\n\tvec3 oz11 = floor(p11*K2)*Kz - Kzo; // p11 < 289 guaranteed\n\n\tvec3 ox12 = fract(p12*K) - Ko;\n\tvec3 oy12 = mod(floor(p12*K), 7.0)*K - Ko;\n\tvec3 oz12 = floor(p12*K2)*Kz - Kzo;\n\n\tvec3 ox13 = fract(p13*K) - Ko;\n\tvec3 oy13 = mod(floor(p13*K), 7.0)*K - Ko;\n\tvec3 oz13 = floor(p13*K2)*Kz - Kzo;\n\n\tvec3 ox21 = fract(p21*K) - Ko;\n\tvec3 oy21 = mod(floor(p21*K), 7.0)*K - Ko;\n\tvec3 oz21 = floor(p21*K2)*Kz - Kzo;\n\n\tvec3 ox22 = fract(p22*K) - Ko;\n\tvec3 oy22 = mod(floor(p22*K), 7.0)*K - Ko;\n\tvec3 oz22 = floor(p22*K2)*Kz - Kzo;\n\n\tvec3 ox23 = fract(p23*K) - Ko;\n\tvec3 oy23 = mod(floor(p23*K), 7.0)*K - Ko;\n\tvec3 oz23 = floor(p23*K2)*Kz - Kzo;\n\n\tvec3 ox31 = fract(p31*K) - Ko;\n\tvec3 oy31 = mod(floor(p31*K), 7.0)*K - Ko;\n\tvec3 oz31 = floor(p31*K2)*Kz - Kzo;\n\n\tvec3 ox32 = fract(p32*K) - Ko;\n\tvec3 oy32 = mod(floor(p32*K), 7.0)*K - Ko;\n\tvec3 oz32 = floor(p32*K2)*Kz - Kzo;\n\n\tvec3 ox33 = fract(p33*K) - Ko;\n\tvec3 oy33 = mod(floor(p33*K), 7.0)*K - Ko;\n\tvec3 oz33 = floor(p33*K2)*Kz - Kzo;\n\n\tvec3 dx11 = Pfx + jitter*ox11;\n\tvec3 dy11 = Pfy.x + jitter*oy11;\n\tvec3 dz11 = Pfz.x + jitter*oz11;\n\n\tvec3 dx12 = Pfx + jitter*ox12;\n\tvec3 dy12 = Pfy.x + jitter*oy12;\n\tvec3 dz12 = Pfz.y + jitter*oz12;\n\n\tvec3 dx13 = Pfx + jitter*ox13;\n\tvec3 dy13 = Pfy.x + jitter*oy13;\n\tvec3 dz13 = Pfz.z + jitter*oz13;\n\n\tvec3 dx21 = Pfx + jitter*ox21;\n\tvec3 dy21 = Pfy.y + jitter*oy21;\n\tvec3 dz21 = Pfz.x + jitter*oz21;\n\n\tvec3 dx22 = Pfx + jitter*ox22;\n\tvec3 dy22 = Pfy.y + jitter*oy22;\n\tvec3 dz22 = Pfz.y + jitter*oz22;\n\n\tvec3 dx23 = Pfx + jitter*ox23;\n\tvec3 dy23 = Pfy.y + jitter*oy23;\n\tvec3 dz23 = Pfz.z + jitter*oz23;\n\n\tvec3 dx31 = Pfx + jitter*ox31;\n\tvec3 dy31 = Pfy.z + jitter*oy31;\n\tvec3 dz31 = Pfz.x + jitter*oz31;\n\n\tvec3 dx32 = Pfx + jitter*ox32;\n\tvec3 dy32 = Pfy.z + jitter*oy32;\n\tvec3 dz32 = Pfz.y + jitter*oz32;\n\n\tvec3 dx33 = Pfx + jitter*ox33;\n\tvec3 dy33 = Pfy.z + jitter*oy33;\n\tvec3 dz33 = Pfz.z + jitter*oz33;\n\n\tvec3 d11 = dist(dx11, dy11, dz11, manhattanDistance);\n\tvec3 d12 =dist(dx12, dy12, dz12, manhattanDistance);\n\tvec3 d13 = dist(dx13, dy13, dz13, manhattanDistance);\n\tvec3 d21 = dist(dx21, dy21, dz21, manhattanDistance);\n\tvec3 d22 = dist(dx22, dy22, dz22, manhattanDistance);\n\tvec3 d23 = dist(dx23, dy23, dz23, manhattanDistance);\n\tvec3 d31 = dist(dx31, dy31, dz31, manhattanDistance);\n\tvec3 d32 = dist(dx32, dy32, dz32, manhattanDistance);\n\tvec3 d33 = dist(dx33, dy33, dz33, manhattanDistance);\n\n\tvec3 d1a = min(d11, d12);\n\td12 = max(d11, d12);\n\td11 = min(d1a, d13); // Smallest now not in d12 or d13\n\td13 = max(d1a, d13);\n\td12 = min(d12, d13); // 2nd smallest now not in d13\n\tvec3 d2a = min(d21, d22);\n\td22 = max(d21, d22);\n\td21 = min(d2a, d23); // Smallest now not in d22 or d23\n\td23 = max(d2a, d23);\n\td22 = min(d22, d23); // 2nd smallest now not in d23\n\tvec3 d3a = min(d31, d32);\n\td32 = max(d31, d32);\n\td31 = min(d3a, d33); // Smallest now not in d32 or d33\n\td33 = max(d3a, d33);\n\td32 = min(d32, d33); // 2nd smallest now not in d33\n\tvec3 da = min(d11, d21);\n\td21 = max(d11, d21);\n\td11 = min(da, d31); // Smallest now in d11\n\td31 = max(da, d31); // 2nd smallest now not in d31\n\td11.xy = (d11.x < d11.y) ? d11.xy : d11.yx;\n\td11.xz = (d11.x < d11.z) ? d11.xz : d11.zx; // d11.x now smallest\n\td12 = min(d12, d21); // 2nd smallest now not in d21\n\td12 = min(d12, d22); // nor in d22\n\td12 = min(d12, d31); // nor in d31\n\td12 = min(d12, d32); // nor in d32\n\td11.yz = min(d11.yz,d12.xy); // nor in d12.yz\n\td11.y = min(d11.y,d12.z); // Only two more to go\n\td11.y = min(d11.y,d11.z); // Done! (Phew!)\n\treturn sqrt(d11.xy); // F1, F2\n\n}\n\nvarying vec2 vUv;\nuniform int index;\nuniform float seed;\nuniform float resolution;\nuniform float res1;\nuniform float res2;\nuniform float resMix;\nuniform float mixScale;\nuniform sampler2D nebulaeMap;\nconst int octaves = 16;\n\nvec3 getSphericalCoord(int index, float x, float y, float width) {\n    width /= 2.0;\n    x -= width;\n    y -= width;\n    vec3 coord = vec3(0.0, 0.0, 0.0);\n\n    if (index == 0) { coord.x=width; coord.y=-y; coord.z=-x; }\n    else if (index == 1) { coord.x=-width; coord.y=-y; coord.z=x; }\n    else if (index == 2) { coord.x=x; coord.y=width; coord.z=y; }\n    else if (index == 3) { coord.x=x; coord.y=-width; coord.z=-y; }\n    else if (index == 4) { coord.x=x; coord.y=-y; coord.z=width; }\n    else if (index == 5) { coord.x=-x; coord.y=-y; coord.z=-width; }\n\n    return normalize(coord);\n}\n\n// float simplexRidged(vec3 pos, float seed) {\n// \tfloat n = noise(vec4(pos, seed));\n// \tn = (n + 1.0) * 0.5;\n// \tn = 2.0 * (0.5 - abs(0.5 - n));\n// \treturn n;\n// }\n\nfloat simplexRidged(vec3 pos, float seed) {\n    float n = cnoise(vec3(pos + seed));\n    // n = (n + 1.0) * 0.5;\n    // n = 2.0 * (0.5 - abs(0.5 - n));\n    n = abs(n);\n    return n;\n}\n\nfloat simplex(vec3 pos, float seed) {\n    float n = cnoise(vec3(pos + seed));\n    // return (n + 1.0) * 0.5;\n    n = (n + 1.0) * 0.5;\n    // n = 2.0 * (0.5 - abs(0.5 - n));\n    return n;\n}\n\nfloat baseNoise(vec3 pos, float frq, float seed) {\n    float amp = 0.5;\n\n    float n = 0.0;\n    float gain = 1.0;\n    for (int i=0; i<octaves; i++) {\n        n +=  simplex(vec3(pos.x*gain/frq, pos.y*gain/frq, pos.z*gain/frq), seed+float(i)*10.0) * amp/gain;\n        gain *= 2.0;\n    }\n\n    // n = fract(n*10.0);\n    // n *= abs(sin(pos.y*10.0));\n    // n += 0.4;\n\n    // increase contrast\n    n = ((n - 0.5) * 3.0) + 0.6;\n\n    // n = pow(n, 3.0);\n    // n = pow( (1.0-n), 2.0);\n    // n = pow(n, 2.0);\n\n    // n = 1.0-n;\n    // n = pow(n, 6.0);\n    // n = 1.0-n;\n\n    return n;\n}\n\nfloat ridgedNoise(vec3 pos, float frq, float seed) {\n    float amp = 0.5;\n\n    float n = 0.0;\n    float gain = 1.0;\n    for (int i=0; i<octaves; i++) {\n        n +=  simplexRidged(vec3(pos.x*gain/frq, 2.0*pos.y*gain/frq, pos.z*gain/frq), seed+float(i)*10.0) * amp/gain;\n        gain *= 2.0;\n    }\n\n    // n = pow(n, 5.0);\n    // n = 1.0-n;\n    // n = pow(n, 2.0);\n    // n = 1.0-n;\n\n    return n;\n}\n\nfloat invRidgedNoise(vec3 pos, float frq, float seed) {\n    float amp = 0.5;\n\n    float n = 0.0;\n    float gain = 1.0;\n    for (int i=0; i<octaves; i++) {\n        n +=  simplexRidged(vec3(pos.x*gain/frq, pos.y*gain/frq, pos.z*gain/frq), seed+float(i)*10.0) * amp/gain;\n        gain *= 2.0;\n    }\n\n    n = 1.0 - n;\n    n = pow(n, 2.0);\n    n = 1.0 - n;\n\n    return n;\n}\n\nfloat cloud(vec3 pos, float seed) {\n    float n = cnoise(vec3(pos + seed));\n    // n = sin(n*4.0 * cos(n*2.0));\n    n = sin(n*7.0);\n\n    n = n*0.5 + 0.5;\n    // n = 1.0-n;\n    // n = n*1.2;\n    // n = 1.0-n;\n\n    return n;\n}\n\nfloat cloudNoise(vec3 pos, float frq, float seed) {\n    float amp = 0.5;\n\n    float n = 0.0;\n    float gain = 1.0;\n    for (int i=0; i<octaves; i++) {\n        n +=  cloud(vec3(pos.x*gain/frq, 1.0*pos.y*gain/frq, pos.z*gain/frq), seed+float(i)*10.0) * amp/gain;\n        gain *= 2.0;\n    }\n\n    // n = pow(n, 5.0);\n\n    n = 1.0-n;\n    n = pow(n, 1.0);\n    n = 1.0-n;\n\n    return n;\n}\n\nfloat star(vec3 pos, float seed) {\n    float n = cnoise(vec3(pos + seed));\n\n    n = abs(n);\n\n    // n = n*0.5 + 0.5;\n    // n = pow(n, 2.0);\n    // n = 1.0-n;\n    // n = n*1.2;\n    // n = 1.0-n;\n\n    return n;\n}\n\nfloat rand(vec3 co, float seed) {\n    return fract(sin(dot(co.xyz, vec3(12.9898, 78.233, 34.830))) * (43758.5453+seed)/resolution);\n}\n\nfloat starNoise(vec3 pos, float seed) {\n\n    float n = rand(pos.xyz*100.0, seed);\n\n    // n = pow(n, 2.0);\n\n    // if (n < 0.99) {\n    // \tn = 0.0;\n    // }\n\n    return n;\n}\n\nvoid main() {\n    float x = vUv.x;\n    float y = 1.0 - vUv.y;\n    vec3 sphericalCoord = getSphericalCoord(index, x*resolution, y*resolution, resolution);\n\n    // create nebula\n    float c1 = cloudNoise(sphericalCoord, res1, seed);\n    float c2 = cloudNoise(sphericalCoord + vec3(c1*res2*0.2), res2, seed+310.4);\n    // c2 = pow(c2, 5.0) * 1.0;\n    float c3 = cloudNoise(sphericalCoord, resMix, seed + 661.384);\n\n    float nebulaStrength = 2.0 * pow(c2, 3.0);\n    // float nebulaStrength = 1.0;\n    vec3 nColor = texture2D(nebulaeMap, vec2(c3, c1)).rgb * nebulaStrength;\n    // float c4 = cloudNoise(sphericalCoord, resMix, seed + 61.684);\n    // c4 = pow(c4, 3.0) * 1.0;\n    // nColor = mix(nColor, nColor*0.3, c4*1.0);\n    vec4 nebula = vec4(nColor, 1.0);\n\n    // add in large stars to nebula\n    float sub1 = baseNoise(sphericalCoord, 0.003, seed+322.284);\n    vec2 F = worley((sphericalCoord * 150.0) + vec3(seed+35.890), 1.0, true);\n    float F1 = F.x;\n    float n2 = F1;\n    n2 = 1.0 - n2;\n    n2 *= 1.2;\n    n2 = pow(n2, 7.0);\n    n2 *= c2;\n    n2 *= sub1;\n    nebula += vec4(vec3(n2), 1.0);\n\n    float c4 = invRidgedNoise(sphericalCoord, 1.0, seed+38.476);\n\n    // c4 = ((c4 - 0.5) * 1.5) + 0.5;\n    // nebula.rgb += c4*0.3;\n    nebula.a = pow(c2, 1.0);\n    // nebula.rgb = ((nebula.rgb - 0.5) * (1.0+c2*1.0)) + 0.5;\n\n    gl_FragColor = nebula;\n}\n'},0:function(e,n){},1:function(e,n){},"10kV":function(e,n){e.exports="#define GLSLIFY 1\n// Source: http://jsfiddle.net/VsWb9/770/\n\n//\n// Atmospheric scattering vertex shader\n//\n// Author: Sean O'Neil\n//\n// Copyright (c) 2004 Sean O'Neil\n//\n\nuniform vec3 v3LightPosition;// The direction vector to the light source\nuniform vec3 v3InvWavelength;// 1 / pow(wavelength, 4) for the red, green, and blue channels\nuniform float fCameraHeight;// The camera's current height\nuniform float fCameraHeight2;// fCameraHeight^2\nuniform float fOuterRadius;// The outer (atmosphere) radius\nuniform float fOuterRadius2;// fOuterRadius^2\nuniform float fInnerRadius;// The inner (planetary) radius\nuniform float fInnerRadius2;// fInnerRadius^2\nuniform float fKrESun;// Kr * ESun\nuniform float fKmESun;// Km * ESun\nuniform float fKr4PI;// Kr * 4 * PI\nuniform float fKm4PI;// Km * 4 * PI\nuniform float fScale;// 1 / (fOuterRadius - fInnerRadius)\nuniform float fScaleDepth;// The scale depth (i.e. the altitude at which the atmosphere's average density is found)\nuniform float fScaleOverScaleDepth;// fScale / fScaleDepth\n\nconst int nSamples = 3;\nconst float fSamples = 3.0;\n\nvarying vec3 v3Direction;\nvarying vec3 c0;\nvarying vec3 c1;\n\nfloat scale(float fCos)\n{\n    float x = 1.0 - fCos;\n    return fScaleDepth * exp(-0.00287 + x*(0.459 + x*(3.83 + x*(-6.80 + x*5.25))));\n}\n\nvoid main(void)\n{\n    // Get the ray from the camera to the vertex and its length (which is the far point of the ray passing through the atmosphere)\n    vec3 v3Ray = position - cameraPosition;\n    float fFar = length(v3Ray);\n    v3Ray /= fFar;\n\n    // Calculate the closest intersection of the ray with the outer atmosphere (which is the near point of the ray passing through the atmosphere)\n    float B = 2.0 * dot(cameraPosition, v3Ray);\n    float C = fCameraHeight2 - fOuterRadius2;\n    float fDet = max(0.0, B*B - 4.0 * C);\n    float fNear = 0.5 * (-B - sqrt(fDet));\n\n    // Calculate the ray's starting position, then calculate its scattering offset\n    vec3 v3Start = cameraPosition + v3Ray * fNear;\n    fFar -= fNear;\n    float fStartAngle = dot(v3Ray, v3Start) / fOuterRadius;\n    float fStartDepth = exp(-1.0 / fScaleDepth);\n    float fStartOffset = fStartDepth * scale(fStartAngle);\n    //c0 = vec3(1.0, 0, 0) * fStartAngle;\n\n    // Initialize the scattering loop variables\n    float fSampleLength = fFar / fSamples;\n    float fScaledLength = fSampleLength * fScale;\n    vec3 v3SampleRay = v3Ray * fSampleLength;\n    vec3 v3SamplePoint = v3Start + v3SampleRay * 0.5;\n\n    //gl_FrontColor = vec4(0.0, 0.0, 0.0, 0.0);\n\n    // Now loop through the sample rays\n    vec3 v3FrontColor = vec3(0.0, 0.0, 0.0);\n    for (int i=0; i<nSamples; i++)\n    {\n        float fHeight = length(v3SamplePoint);\n        float fDepth = exp(fScaleOverScaleDepth * (fInnerRadius - fHeight));\n        float fLightAngle = dot(v3LightPosition, v3SamplePoint) / fHeight;\n        float fCameraAngle = dot(v3Ray, v3SamplePoint) / fHeight;\n        float fScatter = (fStartOffset + fDepth * (scale(fLightAngle) - scale(fCameraAngle)));\n        vec3 v3Attenuate = exp(-fScatter * (v3InvWavelength * fKr4PI + fKm4PI));\n\n        v3FrontColor += v3Attenuate * (fDepth * fScaledLength);\n        v3SamplePoint += v3SampleRay;\n    }\n\n    // Finally, scale the Mie and Rayleigh colors and set up the varying variables for the pixel shader\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    c0 = v3FrontColor * (v3InvWavelength * fKrESun);\n    c1 = v3FrontColor * fKmESun;\n    v3Direction = cameraPosition - position;\n}\n"},2:function(e,n){},3:function(e,n){},4:function(e,n){},"6CdQ":function(e,n){e.exports='#define GLSLIFY 1\n//\n// GLSL textureless classic 4D noise "cnoise",\n// with an RSL-style periodic variant "pnoise".\n// Author:  Stefan Gustavson (stefan.gustavson@liu.se)\n// Version: 2011-08-22\n//\n// Many thanks to Ian McEwan of Ashima Arts for the\n// ideas for permutation and gradient selection.\n//\n// Copyright (c) 2011 Stefan Gustavson. All rights reserved.\n// Distributed under the MIT license. See LICENSE file.\n// https://github.com/ashima/webgl-noise\n//\n\nvec4 mod289(vec4 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x)\n{\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec4 fade(vec4 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n// Classic Perlin noise\nfloat cnoise(vec4 P)\n{\n  vec4 Pi0 = floor(P); // Integer part for indexing\n  vec4 Pi1 = Pi0 + 1.0; // Integer part + 1\n  Pi0 = mod289(Pi0);\n  Pi1 = mod289(Pi1);\n  vec4 Pf0 = fract(P); // Fractional part for interpolation\n  vec4 Pf1 = Pf0 - 1.0; // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = vec4(Pi0.zzzz);\n  vec4 iz1 = vec4(Pi1.zzzz);\n  vec4 iw0 = vec4(Pi0.wwww);\n  vec4 iw1 = vec4(Pi1.wwww);\n\n  vec4 ixy = permute(permute(ix) + iy);\n  vec4 ixy0 = permute(ixy + iz0);\n  vec4 ixy1 = permute(ixy + iz1);\n  vec4 ixy00 = permute(ixy0 + iw0);\n  vec4 ixy01 = permute(ixy0 + iw1);\n  vec4 ixy10 = permute(ixy1 + iw0);\n  vec4 ixy11 = permute(ixy1 + iw1);\n\n  vec4 gx00 = ixy00 * (1.0 / 7.0);\n  vec4 gy00 = floor(gx00) * (1.0 / 7.0);\n  vec4 gz00 = floor(gy00) * (1.0 / 6.0);\n  gx00 = fract(gx00) - 0.5;\n  gy00 = fract(gy00) - 0.5;\n  gz00 = fract(gz00) - 0.5;\n  vec4 gw00 = vec4(0.75) - abs(gx00) - abs(gy00) - abs(gz00);\n  vec4 sw00 = step(gw00, vec4(0.0));\n  gx00 -= sw00 * (step(0.0, gx00) - 0.5);\n  gy00 -= sw00 * (step(0.0, gy00) - 0.5);\n\n  vec4 gx01 = ixy01 * (1.0 / 7.0);\n  vec4 gy01 = floor(gx01) * (1.0 / 7.0);\n  vec4 gz01 = floor(gy01) * (1.0 / 6.0);\n  gx01 = fract(gx01) - 0.5;\n  gy01 = fract(gy01) - 0.5;\n  gz01 = fract(gz01) - 0.5;\n  vec4 gw01 = vec4(0.75) - abs(gx01) - abs(gy01) - abs(gz01);\n  vec4 sw01 = step(gw01, vec4(0.0));\n  gx01 -= sw01 * (step(0.0, gx01) - 0.5);\n  gy01 -= sw01 * (step(0.0, gy01) - 0.5);\n\n  vec4 gx10 = ixy10 * (1.0 / 7.0);\n  vec4 gy10 = floor(gx10) * (1.0 / 7.0);\n  vec4 gz10 = floor(gy10) * (1.0 / 6.0);\n  gx10 = fract(gx10) - 0.5;\n  gy10 = fract(gy10) - 0.5;\n  gz10 = fract(gz10) - 0.5;\n  vec4 gw10 = vec4(0.75) - abs(gx10) - abs(gy10) - abs(gz10);\n  vec4 sw10 = step(gw10, vec4(0.0));\n  gx10 -= sw10 * (step(0.0, gx10) - 0.5);\n  gy10 -= sw10 * (step(0.0, gy10) - 0.5);\n\n  vec4 gx11 = ixy11 * (1.0 / 7.0);\n  vec4 gy11 = floor(gx11) * (1.0 / 7.0);\n  vec4 gz11 = floor(gy11) * (1.0 / 6.0);\n  gx11 = fract(gx11) - 0.5;\n  gy11 = fract(gy11) - 0.5;\n  gz11 = fract(gz11) - 0.5;\n  vec4 gw11 = vec4(0.75) - abs(gx11) - abs(gy11) - abs(gz11);\n  vec4 sw11 = step(gw11, vec4(0.0));\n  gx11 -= sw11 * (step(0.0, gx11) - 0.5);\n  gy11 -= sw11 * (step(0.0, gy11) - 0.5);\n\n  vec4 g0000 = vec4(gx00.x,gy00.x,gz00.x,gw00.x);\n  vec4 g1000 = vec4(gx00.y,gy00.y,gz00.y,gw00.y);\n  vec4 g0100 = vec4(gx00.z,gy00.z,gz00.z,gw00.z);\n  vec4 g1100 = vec4(gx00.w,gy00.w,gz00.w,gw00.w);\n  vec4 g0010 = vec4(gx10.x,gy10.x,gz10.x,gw10.x);\n  vec4 g1010 = vec4(gx10.y,gy10.y,gz10.y,gw10.y);\n  vec4 g0110 = vec4(gx10.z,gy10.z,gz10.z,gw10.z);\n  vec4 g1110 = vec4(gx10.w,gy10.w,gz10.w,gw10.w);\n  vec4 g0001 = vec4(gx01.x,gy01.x,gz01.x,gw01.x);\n  vec4 g1001 = vec4(gx01.y,gy01.y,gz01.y,gw01.y);\n  vec4 g0101 = vec4(gx01.z,gy01.z,gz01.z,gw01.z);\n  vec4 g1101 = vec4(gx01.w,gy01.w,gz01.w,gw01.w);\n  vec4 g0011 = vec4(gx11.x,gy11.x,gz11.x,gw11.x);\n  vec4 g1011 = vec4(gx11.y,gy11.y,gz11.y,gw11.y);\n  vec4 g0111 = vec4(gx11.z,gy11.z,gz11.z,gw11.z);\n  vec4 g1111 = vec4(gx11.w,gy11.w,gz11.w,gw11.w);\n\n  vec4 norm00 = taylorInvSqrt(vec4(dot(g0000, g0000), dot(g0100, g0100), dot(g1000, g1000), dot(g1100, g1100)));\n  g0000 *= norm00.x;\n  g0100 *= norm00.y;\n  g1000 *= norm00.z;\n  g1100 *= norm00.w;\n\n  vec4 norm01 = taylorInvSqrt(vec4(dot(g0001, g0001), dot(g0101, g0101), dot(g1001, g1001), dot(g1101, g1101)));\n  g0001 *= norm01.x;\n  g0101 *= norm01.y;\n  g1001 *= norm01.z;\n  g1101 *= norm01.w;\n\n  vec4 norm10 = taylorInvSqrt(vec4(dot(g0010, g0010), dot(g0110, g0110), dot(g1010, g1010), dot(g1110, g1110)));\n  g0010 *= norm10.x;\n  g0110 *= norm10.y;\n  g1010 *= norm10.z;\n  g1110 *= norm10.w;\n\n  vec4 norm11 = taylorInvSqrt(vec4(dot(g0011, g0011), dot(g0111, g0111), dot(g1011, g1011), dot(g1111, g1111)));\n  g0011 *= norm11.x;\n  g0111 *= norm11.y;\n  g1011 *= norm11.z;\n  g1111 *= norm11.w;\n\n  float n0000 = dot(g0000, Pf0);\n  float n1000 = dot(g1000, vec4(Pf1.x, Pf0.yzw));\n  float n0100 = dot(g0100, vec4(Pf0.x, Pf1.y, Pf0.zw));\n  float n1100 = dot(g1100, vec4(Pf1.xy, Pf0.zw));\n  float n0010 = dot(g0010, vec4(Pf0.xy, Pf1.z, Pf0.w));\n  float n1010 = dot(g1010, vec4(Pf1.x, Pf0.y, Pf1.z, Pf0.w));\n  float n0110 = dot(g0110, vec4(Pf0.x, Pf1.yz, Pf0.w));\n  float n1110 = dot(g1110, vec4(Pf1.xyz, Pf0.w));\n  float n0001 = dot(g0001, vec4(Pf0.xyz, Pf1.w));\n  float n1001 = dot(g1001, vec4(Pf1.x, Pf0.yz, Pf1.w));\n  float n0101 = dot(g0101, vec4(Pf0.x, Pf1.y, Pf0.z, Pf1.w));\n  float n1101 = dot(g1101, vec4(Pf1.xy, Pf0.z, Pf1.w));\n  float n0011 = dot(g0011, vec4(Pf0.xy, Pf1.zw));\n  float n1011 = dot(g1011, vec4(Pf1.x, Pf0.y, Pf1.zw));\n  float n0111 = dot(g0111, vec4(Pf0.x, Pf1.yzw));\n  float n1111 = dot(g1111, Pf1);\n\n  vec4 fade_xyzw = fade(Pf0);\n  vec4 n_0w = mix(vec4(n0000, n1000, n0100, n1100), vec4(n0001, n1001, n0101, n1101), fade_xyzw.w);\n  vec4 n_1w = mix(vec4(n0010, n1010, n0110, n1110), vec4(n0011, n1011, n0111, n1111), fade_xyzw.w);\n  vec4 n_zw = mix(n_0w, n_1w, fade_xyzw.z);\n  vec2 n_yzw = mix(n_zw.xy, n_zw.zw, fade_xyzw.y);\n  float n_xyzw = mix(n_yzw.x, n_yzw.y, fade_xyzw.x);\n  return 2.2 * n_xyzw;\n}\n\nvarying vec2 vUv;\n\nuniform sampler2D biomeMap;\nuniform sampler2D heightMap;\nuniform sampler2D moistureMap;\n\nvoid main() {\n    float x = vUv.x;\n    float y = vUv.y;\n\n    float n1 = texture2D(heightMap, vec2(x, y)).r;\n    float n2 = texture2D(moistureMap, vec2(x, y)).r;\n\n    vec4 color = texture2D(biomeMap, vec2(n2, n1));\n\n    // if (n1 < 0.5) {\n    // \tvec4 water = vec4(0.0, 0.4, 0.9, 1.0);\n    // \t// vec4 water = vec4(1.0, 0.2, 0.0, 1.0);\n    // \tcolor = mix(water, color, 0.3);\n    // }\n    //\n    // if (n1 < 0.5 && n1 > 0.4) {\n    // \tvec4 coast = vec4(vec3(1.0), 1.0);\n    // \tfloat amount = 1.0 - ((0.5 - n1) * 10.0);\n    // \tcolor = mix(color, coast, amount*0.3);\n    // }\n\n    // color = vec4(1.0);\n\n    gl_FragColor = color;\n}\n'},"7txM":function(e,n){e.exports="#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n"},DqKU:function(e,n){e.exports="#define GLSLIFY 1\n//\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289(i); // Avoid truncation effects in permutation\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\nvoid main() {\n    float brightness = snoise(gl_FragCoord.xx);\n\n    gl_FragColor = vec4(vec3(brightness), 1.0);\n    //gl_FragColor = vec4(#ffff00, 1.0);\n}\n"},Gsp3:function(e,n){e.exports='#define GLSLIFY 1\n//\n// GLSL textureless classic 4D noise "cnoise",\n// with an RSL-style periodic variant "pnoise".\n// Author:  Stefan Gustavson (stefan.gustavson@liu.se)\n// Version: 2011-08-22\n//\n// Many thanks to Ian McEwan of Ashima Arts for the\n// ideas for permutation and gradient selection.\n//\n// Copyright (c) 2011 Stefan Gustavson. All rights reserved.\n// Distributed under the MIT license. See LICENSE file.\n// https://github.com/ashima/webgl-noise\n//\n\nvec4 mod289(vec4 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x)\n{\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec4 fade(vec4 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n// Classic Perlin noise, periodic version\nfloat pnoise(vec4 P, vec4 rep)\n{\n  vec4 Pi0 = mod(floor(P), rep); // Integer part modulo rep\n  vec4 Pi1 = mod(Pi0 + 1.0, rep); // Integer part + 1 mod rep\n  Pi0 = mod289(Pi0);\n  Pi1 = mod289(Pi1);\n  vec4 Pf0 = fract(P); // Fractional part for interpolation\n  vec4 Pf1 = Pf0 - 1.0; // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = vec4(Pi0.zzzz);\n  vec4 iz1 = vec4(Pi1.zzzz);\n  vec4 iw0 = vec4(Pi0.wwww);\n  vec4 iw1 = vec4(Pi1.wwww);\n\n  vec4 ixy = permute(permute(ix) + iy);\n  vec4 ixy0 = permute(ixy + iz0);\n  vec4 ixy1 = permute(ixy + iz1);\n  vec4 ixy00 = permute(ixy0 + iw0);\n  vec4 ixy01 = permute(ixy0 + iw1);\n  vec4 ixy10 = permute(ixy1 + iw0);\n  vec4 ixy11 = permute(ixy1 + iw1);\n\n  vec4 gx00 = ixy00 * (1.0 / 7.0);\n  vec4 gy00 = floor(gx00) * (1.0 / 7.0);\n  vec4 gz00 = floor(gy00) * (1.0 / 6.0);\n  gx00 = fract(gx00) - 0.5;\n  gy00 = fract(gy00) - 0.5;\n  gz00 = fract(gz00) - 0.5;\n  vec4 gw00 = vec4(0.75) - abs(gx00) - abs(gy00) - abs(gz00);\n  vec4 sw00 = step(gw00, vec4(0.0));\n  gx00 -= sw00 * (step(0.0, gx00) - 0.5);\n  gy00 -= sw00 * (step(0.0, gy00) - 0.5);\n\n  vec4 gx01 = ixy01 * (1.0 / 7.0);\n  vec4 gy01 = floor(gx01) * (1.0 / 7.0);\n  vec4 gz01 = floor(gy01) * (1.0 / 6.0);\n  gx01 = fract(gx01) - 0.5;\n  gy01 = fract(gy01) - 0.5;\n  gz01 = fract(gz01) - 0.5;\n  vec4 gw01 = vec4(0.75) - abs(gx01) - abs(gy01) - abs(gz01);\n  vec4 sw01 = step(gw01, vec4(0.0));\n  gx01 -= sw01 * (step(0.0, gx01) - 0.5);\n  gy01 -= sw01 * (step(0.0, gy01) - 0.5);\n\n  vec4 gx10 = ixy10 * (1.0 / 7.0);\n  vec4 gy10 = floor(gx10) * (1.0 / 7.0);\n  vec4 gz10 = floor(gy10) * (1.0 / 6.0);\n  gx10 = fract(gx10) - 0.5;\n  gy10 = fract(gy10) - 0.5;\n  gz10 = fract(gz10) - 0.5;\n  vec4 gw10 = vec4(0.75) - abs(gx10) - abs(gy10) - abs(gz10);\n  vec4 sw10 = step(gw10, vec4(0.0));\n  gx10 -= sw10 * (step(0.0, gx10) - 0.5);\n  gy10 -= sw10 * (step(0.0, gy10) - 0.5);\n\n  vec4 gx11 = ixy11 * (1.0 / 7.0);\n  vec4 gy11 = floor(gx11) * (1.0 / 7.0);\n  vec4 gz11 = floor(gy11) * (1.0 / 6.0);\n  gx11 = fract(gx11) - 0.5;\n  gy11 = fract(gy11) - 0.5;\n  gz11 = fract(gz11) - 0.5;\n  vec4 gw11 = vec4(0.75) - abs(gx11) - abs(gy11) - abs(gz11);\n  vec4 sw11 = step(gw11, vec4(0.0));\n  gx11 -= sw11 * (step(0.0, gx11) - 0.5);\n  gy11 -= sw11 * (step(0.0, gy11) - 0.5);\n\n  vec4 g0000 = vec4(gx00.x,gy00.x,gz00.x,gw00.x);\n  vec4 g1000 = vec4(gx00.y,gy00.y,gz00.y,gw00.y);\n  vec4 g0100 = vec4(gx00.z,gy00.z,gz00.z,gw00.z);\n  vec4 g1100 = vec4(gx00.w,gy00.w,gz00.w,gw00.w);\n  vec4 g0010 = vec4(gx10.x,gy10.x,gz10.x,gw10.x);\n  vec4 g1010 = vec4(gx10.y,gy10.y,gz10.y,gw10.y);\n  vec4 g0110 = vec4(gx10.z,gy10.z,gz10.z,gw10.z);\n  vec4 g1110 = vec4(gx10.w,gy10.w,gz10.w,gw10.w);\n  vec4 g0001 = vec4(gx01.x,gy01.x,gz01.x,gw01.x);\n  vec4 g1001 = vec4(gx01.y,gy01.y,gz01.y,gw01.y);\n  vec4 g0101 = vec4(gx01.z,gy01.z,gz01.z,gw01.z);\n  vec4 g1101 = vec4(gx01.w,gy01.w,gz01.w,gw01.w);\n  vec4 g0011 = vec4(gx11.x,gy11.x,gz11.x,gw11.x);\n  vec4 g1011 = vec4(gx11.y,gy11.y,gz11.y,gw11.y);\n  vec4 g0111 = vec4(gx11.z,gy11.z,gz11.z,gw11.z);\n  vec4 g1111 = vec4(gx11.w,gy11.w,gz11.w,gw11.w);\n\n  vec4 norm00 = taylorInvSqrt(vec4(dot(g0000, g0000), dot(g0100, g0100), dot(g1000, g1000), dot(g1100, g1100)));\n  g0000 *= norm00.x;\n  g0100 *= norm00.y;\n  g1000 *= norm00.z;\n  g1100 *= norm00.w;\n\n  vec4 norm01 = taylorInvSqrt(vec4(dot(g0001, g0001), dot(g0101, g0101), dot(g1001, g1001), dot(g1101, g1101)));\n  g0001 *= norm01.x;\n  g0101 *= norm01.y;\n  g1001 *= norm01.z;\n  g1101 *= norm01.w;\n\n  vec4 norm10 = taylorInvSqrt(vec4(dot(g0010, g0010), dot(g0110, g0110), dot(g1010, g1010), dot(g1110, g1110)));\n  g0010 *= norm10.x;\n  g0110 *= norm10.y;\n  g1010 *= norm10.z;\n  g1110 *= norm10.w;\n\n  vec4 norm11 = taylorInvSqrt(vec4(dot(g0011, g0011), dot(g0111, g0111), dot(g1011, g1011), dot(g1111, g1111)));\n  g0011 *= norm11.x;\n  g0111 *= norm11.y;\n  g1011 *= norm11.z;\n  g1111 *= norm11.w;\n\n  float n0000 = dot(g0000, Pf0);\n  float n1000 = dot(g1000, vec4(Pf1.x, Pf0.yzw));\n  float n0100 = dot(g0100, vec4(Pf0.x, Pf1.y, Pf0.zw));\n  float n1100 = dot(g1100, vec4(Pf1.xy, Pf0.zw));\n  float n0010 = dot(g0010, vec4(Pf0.xy, Pf1.z, Pf0.w));\n  float n1010 = dot(g1010, vec4(Pf1.x, Pf0.y, Pf1.z, Pf0.w));\n  float n0110 = dot(g0110, vec4(Pf0.x, Pf1.yz, Pf0.w));\n  float n1110 = dot(g1110, vec4(Pf1.xyz, Pf0.w));\n  float n0001 = dot(g0001, vec4(Pf0.xyz, Pf1.w));\n  float n1001 = dot(g1001, vec4(Pf1.x, Pf0.yz, Pf1.w));\n  float n0101 = dot(g0101, vec4(Pf0.x, Pf1.y, Pf0.z, Pf1.w));\n  float n1101 = dot(g1101, vec4(Pf1.xy, Pf0.z, Pf1.w));\n  float n0011 = dot(g0011, vec4(Pf0.xy, Pf1.zw));\n  float n1011 = dot(g1011, vec4(Pf1.x, Pf0.y, Pf1.zw));\n  float n0111 = dot(g0111, vec4(Pf0.x, Pf1.yzw));\n  float n1111 = dot(g1111, Pf1);\n\n  vec4 fade_xyzw = fade(Pf0);\n  vec4 n_0w = mix(vec4(n0000, n1000, n0100, n1100), vec4(n0001, n1001, n0101, n1101), fade_xyzw.w);\n  vec4 n_1w = mix(vec4(n0010, n1010, n0110, n1110), vec4(n0011, n1011, n0111, n1111), fade_xyzw.w);\n  vec4 n_zw = mix(n_0w, n_1w, fade_xyzw.z);\n  vec2 n_yzw = mix(n_zw.xy, n_zw.zw, fade_xyzw.y);\n  float n_xyzw = mix(n_yzw.x, n_yzw.y, fade_xyzw.x);\n  return 2.2 * n_xyzw;\n}\n\nvarying vec3 vNormal;\nvarying vec3 vPosition;\nvarying vec3 cameraVector;\n\nuniform float time;\n\nuniform float atmo1;\nuniform float atmo2;\nuniform float atmo3;\nuniform float atmo4;\nuniform float atmo5;\n\nuniform float alpha;\n\nuniform vec3 color;\n\nvoid main() {\n    vec3 newColor = vec3(0.0);\n\n    const float ambient = 0.1;\n    vec3 light = vec3(-1.0, 1.0, 1.0);\n    light = normalize(light);\n    float directional = max(dot(vNormal, light), 0.0) * 1.0;\n    vec4 texelColor = vec4((directional + ambient) * newColor, 0.0);\n\n    // gl_FragColor = texelColor;\n    // gl_FragColor = vec4(1.0);\n\n    ////////////////////////////\n    // atmospheric scattering\n    ///////////////////////////\n\n    // float PI = 3.14159265358979323846264;\n    // // light = light - vPosition;\n    // vec3 cameraDir = normalize(cameraVector);\n    //\n    // // vec3 newNormal = bumpNormal(normalMap, vUv);\n    // vec3 newNormal = vNormal;\n    //\n    // light = normalize(light);\n    //\n    // float lightAngle = max(0.0, dot(newNormal, light));\n    // float viewAngle = max(0.0, dot(vNormal, cameraDir));\n    // float adjustedLightAngle = min(0.6, lightAngle) / 0.6;\n    // float adjustedViewAngle = min(0.65, viewAngle) / 0.65;\n    // float invertedViewAngle = pow(acos(viewAngle), 3.0) * 0.4;\n    //\n    // float dProd = 0.0;\n    // dProd += atmo1 * lightAngle;\n    // dProd += atmo2 * lightAngle * (invertedViewAngle - atmo5);\n    // dProd += invertedViewAngle * 1.5 * (max(-0.35, dot(vNormal, light)) + 0.35);\n    // dProd *= atmo3 + pow(invertedViewAngle/(PI/2.0), 2.0);\n    //\n    // dProd *= atmo4;\n    // vec4 atmColor = vec4(color, dProd);\n    //\n    // // texelColor = texture2D(map, vUv) * min(asin(lightAngle), 1.0);\n    // // texelColor = newColor * min(asin(lightAngle), 1.0);\n    //\n    // gl_FragColor = texelColor + min(atmColor, alpha);\n\n    /////////////////////////\n\n    float PI = 3.14159265358979323846264;\n    // light = light - vPosition;\n    vec3 cameraDir = normalize(cameraVector);\n\n    // vec3 newNormal = bumpNormal(normalMap, vUv);\n    vec3 newNormal = vNormal;\n\n    light = normalize(light);\n\n    float lightAngle = max(0.0, dot(newNormal, light));\n    float viewAngle = max(0.0, dot(vNormal, cameraDir));\n    float adjustedLightAngle = min(0.6, lightAngle) / 0.6;\n    float adjustedViewAngle = min(0.65, viewAngle) / 0.65;\n    float invertedViewAngle = pow(acos(viewAngle), 3.0) * 0.4;\n\n    float dProd = 0.0;\n    dProd += atmo1 * lightAngle;\n    dProd += atmo2 * lightAngle * (invertedViewAngle - atmo5);\n    dProd += invertedViewAngle * 1.5 * (max(-0.35, dot(vNormal, light)) + 0.35);\n    dProd *= atmo3 + pow(invertedViewAngle/(PI/2.0), 2.0);\n\n    dProd *= atmo4;\n\n    vec4 atmColor = vec4(color, dProd);\n\n    // texelColor = texture2D(map, vUv) * min(asin(lightAngle), 1.0);\n    // texelColor = newColor * min(asin(lightAngle), 1.0);\n\n    gl_FragColor = texelColor + min(atmColor, alpha);\n}\n'},PP0w:function(e,n){e.exports="#define GLSLIFY 1\n// Source: http://jsfiddle.net/VsWb9/770/\n\n//\n// Atmospheric scattering fragment shader\n//\n// Author: Sean O'Neil\n//\n// Copyright (c) 2004 Sean O'Neil\n//\n\nuniform vec3 v3LightPos;\nuniform float g;\nuniform float g2;\nuniform vec3 atmosphereColor;\n\nvarying vec3 v3Direction;\nvarying vec3 c0;\nvarying vec3 c1;\n\n// Calculates the Mie phase function\nfloat getMiePhase(float fCos, float fCos2, float g, float g2)\n{\n    return 1.5 * ((1.0 - g2) / (2.0 + g2)) * (1.0 + fCos2) / pow(1.0 + g2 - 2.0 * g * fCos, 1.5);\n}\n\n// Calculates the Rayleigh phase function\nfloat getRayleighPhase(float fCos2)\n{\n    return 0.75 + 0.75 * fCos2;\n}\n\nvoid main (void)\n{\n    float fCos = dot(v3LightPos, v3Direction) / length(v3Direction);\n    float fCos2 = fCos * fCos;\n\n    vec3 color =  getRayleighPhase(fCos2) * c0 + getMiePhase(fCos, fCos2, g, g2) * c1;\n\n    gl_FragColor = vec4(color, 1.0);\n    gl_FragColor.a = gl_FragColor.b;\n}\n"},SQyz:function(e,n){e.exports="#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n"},VWZf:function(e,n){e.exports='#define GLSLIFY 1\n//\n// GLSL textureless classic 3D noise "cnoise",\n// with an RSL-style periodic variant "pnoise".\n// Author:  Stefan Gustavson (stefan.gustavson@liu.se)\n// Version: 2011-10-11\n//\n// Many thanks to Ian McEwan of Ashima Arts for the\n// ideas for permutation and gradient selection.\n//\n// Copyright (c) 2011 Stefan Gustavson. All rights reserved.\n// Distributed under the MIT license. See LICENSE file.\n// https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x)\n{\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec3 fade(vec3 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n// Classic Perlin noise\nfloat cnoise(vec3 P)\n{\n  vec3 Pi0 = floor(P); // Integer part for indexing\n  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1\n  Pi0 = mod289(Pi0);\n  Pi1 = mod289(Pi1);\n  vec3 Pf0 = fract(P); // Fractional part for interpolation\n  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = Pi0.zzzz;\n  vec4 iz1 = Pi1.zzzz;\n\n  vec4 ixy = permute(permute(ix) + iy);\n  vec4 ixy0 = permute(ixy + iz0);\n  vec4 ixy1 = permute(ixy + iz1);\n\n  vec4 gx0 = ixy0 * (1.0 / 7.0);\n  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n  gx0 = fract(gx0);\n  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n  vec4 sz0 = step(gz0, vec4(0.0));\n  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n  vec4 gx1 = ixy1 * (1.0 / 7.0);\n  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n  gx1 = fract(gx1);\n  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n  vec4 sz1 = step(gz1, vec4(0.0));\n  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n  g000 *= norm0.x;\n  g010 *= norm0.y;\n  g100 *= norm0.z;\n  g110 *= norm0.w;\n  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n  g001 *= norm1.x;\n  g011 *= norm1.y;\n  g101 *= norm1.z;\n  g111 *= norm1.w;\n\n  float n000 = dot(g000, Pf0);\n  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n  float n111 = dot(g111, Pf1);\n\n  vec3 fade_xyz = fade(Pf0);\n  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n  return 2.2 * n_xyz;\n}\n\nvarying vec2 vUv;\nuniform int index;\nuniform float seed;\nuniform float resolution;\nuniform float res1;\nuniform float res2;\nuniform float resMix;\nuniform float mixScale;\nuniform float doesRidged;\nconst int octaves = 16;\n\n// #define M_PI 3.1415926535897932384626433832795;\n\nvec3 getSphericalCoord(int index, float x, float y, float width) {\n    width /= 2.0;\n    x -= width;\n    y -= width;\n    vec3 coord = vec3(0.0, 0.0, 0.0);\n\n    if (index == 0) { coord.x=width; coord.y=-y; coord.z=-x; }\n    else if (index == 1) { coord.x=-width; coord.y=-y; coord.z=x; }\n    else if (index == 2) { coord.x=x; coord.y=width; coord.z=y; }\n    else if (index == 3) { coord.x=x; coord.y=-width; coord.z=-y; }\n    else if (index == 4) { coord.x=x; coord.y=-y; coord.z=width; }\n    else if (index == 5) { coord.x=-x; coord.y=-y; coord.z=-width; }\n\n    return normalize(coord);\n}\n\nfloat simplexRidged(vec3 pos, float seed) {\n    float n = cnoise(vec3(pos + seed));\n    n = (n + 1.0) * 0.5;\n    n = 2.0 * (0.5 - abs(0.5 - n));\n    return n;\n}\n\nfloat simplex(vec3 pos, float seed) {\n    float n = cnoise(vec3(pos + seed));\n    return (n + 1.0) * 0.5;\n}\n\nfloat baseNoise(vec3 pos, float frq, float seed) {\n    float amp = 0.5;\n\n    float n = 0.0;\n    float gain = 1.0;\n    for (int i=0; i<octaves; i++) {\n        n +=  simplex(vec3(pos.x*gain/frq, pos.y*gain/frq, pos.z*gain/frq), seed+float(i)*10.0) * amp/gain;\n        gain *= 2.0;\n    }\n\n    // increase contrast\n    n = ((n - 0.5) * 2.0) + 0.5;\n\n    return n;\n}\n\nfloat ridgedNoise(vec3 pos, float frq, float seed) {\n    float amp = 0.5;\n    float n = 0.0;\n    float gain = 1.0;\n    for (int i=0; i<octaves; i++) {\n        n +=  simplexRidged(vec3(pos.x*gain/frq, pos.y*gain/frq, pos.z*gain/frq), seed+float(i)*10.0) * amp/gain;\n        gain *= 2.0;\n    }\n\n    n = pow(n, 4.0);\n    return n;\n}\n\nfloat invRidgedNoise(vec3 pos, float frq, float seed) {\n    float amp = 0.5;\n\n    float n = 0.0;\n    float gain = 1.0;\n    for (int i=0; i<octaves; i++) {\n        n +=  simplexRidged(vec3(pos.x*gain/frq, pos.y*gain/frq, pos.z*gain/frq), seed+float(i)*10.0) * amp/gain;\n        gain *= 2.0;\n    }\n\n    n = pow(n, 4.0);\n    n = 1.0 - n;\n\n    return n;\n}\n\nfloat cloud(vec3 pos, float seed) {\n    float n = cnoise(vec3(pos + seed));\n    // n = sin(n*4.0 * cos(n*2.0));\n    n = sin(n*5.0);\n    // n = abs(sin(n*5.0));\n    // n = 1.0 - n;\n\n    n = n*0.5 + 0.5;\n    // n = 1.0-n;\n    // n = n*1.2;\n    // n = 1.0-n;\n\n    return n;\n}\n\nfloat cloudNoise(vec3 pos, float frq, float seed) {\n    float amp = 0.5;\n\n    float n = 0.0;\n    float gain = 1.0;\n    for (int i=0; i<octaves; i++) {\n        n +=  cloud(vec3(pos.x*gain/frq, pos.y*gain/frq, pos.z*gain/frq), seed+float(i)*10.0) * amp/gain;\n        gain *= 2.0;\n    }\n\n    // n = pow(n, 5.0);\n\n    n = 1.0-n;\n    n = pow(n, 1.0);\n    n = 1.0-n;\n\n    return n;\n}\n\nvoid main() {\n    float x = vUv.x;\n    float y = 1.0 - vUv.y;\n    vec3 sphericalCoord = getSphericalCoord(index, x*resolution, y*resolution, resolution);\n\n    float sub1, sub2, sub3, n;\n\n    float resMod = 1.0;// overall res magnification\n    float resMod2 = mixScale;// minimum res mod\n\n    if (doesRidged == 0.0) {\n        sub1 = cloudNoise(sphericalCoord, res1*resMod, seed+11.437);\n        sub2 = cloudNoise(sphericalCoord, res2*resMod, seed+93.483);\n        sub3 = cloudNoise(sphericalCoord, resMix*resMod, seed+23.675);\n        n = cloudNoise(sphericalCoord + vec3((sub1/sub3)*0.1), resMod2+sub2, seed+78.236);\n    }\n    else if (doesRidged == 1.0) {\n        sub1 = ridgedNoise(sphericalCoord, res1*resMod, seed+83.706);\n        sub2 = ridgedNoise(sphericalCoord, res2*resMod, seed+29.358);\n        sub3 = ridgedNoise(sphericalCoord, resMix*resMod, seed+53.041);\n        n = ridgedNoise(sphericalCoord + vec3((sub1/sub3)*0.1), resMod2+sub2, seed+34.982);\n    }\n    else if (doesRidged == 2.0) {\n        sub1 = invRidgedNoise(sphericalCoord, res1*resMod, seed+49.684);\n        sub2 = invRidgedNoise(sphericalCoord, res2*resMod, seed+136.276);\n        sub3 = invRidgedNoise(sphericalCoord, resMix*resMod, seed+3.587);\n        n = invRidgedNoise(sphericalCoord + vec3((sub1/sub3)*0.1), resMod2+sub2, seed+33.321);\n    }\n    else {\n        sub1 = baseNoise(sphericalCoord, res1*resMod, seed+52.284);\n        sub2 = baseNoise(sphericalCoord, res2*resMod, seed+137.863);\n        sub3 = baseNoise(sphericalCoord, resMix*resMod, seed+37.241);\n        float alpha = sub1*3.14*2.0;\n        float beta = sub2*3.14*2.0;\n        float fx = cos(alpha)*cos(beta);\n        float fz = sin(alpha)*cos(beta);\n        float fy = sin(beta);\n        n = baseNoise(sphericalCoord + (vec3(fx, fy, fz) * sub3), 1.0, seed+28.634);\n    }\n\n    gl_FragColor = vec4(vec3(n), 1.0);\n}\n'},a6jw:function(e,n){e.exports='#define GLSLIFY 1\n//\n// GLSL textureless classic 4D noise "cnoise",\n// with an RSL-style periodic variant "pnoise".\n// Author:  Stefan Gustavson (stefan.gustavson@liu.se)\n// Version: 2011-08-22\n//\n// Many thanks to Ian McEwan of Ashima Arts for the\n// ideas for permutation and gradient selection.\n//\n// Copyright (c) 2011 Stefan Gustavson. All rights reserved.\n// Distributed under the MIT license. See LICENSE file.\n// https://github.com/ashima/webgl-noise\n//\n\nvec4 mod289(vec4 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x)\n{\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec4 fade(vec4 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n// Classic Perlin noise\nfloat cnoise(vec4 P)\n{\n  vec4 Pi0 = floor(P); // Integer part for indexing\n  vec4 Pi1 = Pi0 + 1.0; // Integer part + 1\n  Pi0 = mod289(Pi0);\n  Pi1 = mod289(Pi1);\n  vec4 Pf0 = fract(P); // Fractional part for interpolation\n  vec4 Pf1 = Pf0 - 1.0; // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = vec4(Pi0.zzzz);\n  vec4 iz1 = vec4(Pi1.zzzz);\n  vec4 iw0 = vec4(Pi0.wwww);\n  vec4 iw1 = vec4(Pi1.wwww);\n\n  vec4 ixy = permute(permute(ix) + iy);\n  vec4 ixy0 = permute(ixy + iz0);\n  vec4 ixy1 = permute(ixy + iz1);\n  vec4 ixy00 = permute(ixy0 + iw0);\n  vec4 ixy01 = permute(ixy0 + iw1);\n  vec4 ixy10 = permute(ixy1 + iw0);\n  vec4 ixy11 = permute(ixy1 + iw1);\n\n  vec4 gx00 = ixy00 * (1.0 / 7.0);\n  vec4 gy00 = floor(gx00) * (1.0 / 7.0);\n  vec4 gz00 = floor(gy00) * (1.0 / 6.0);\n  gx00 = fract(gx00) - 0.5;\n  gy00 = fract(gy00) - 0.5;\n  gz00 = fract(gz00) - 0.5;\n  vec4 gw00 = vec4(0.75) - abs(gx00) - abs(gy00) - abs(gz00);\n  vec4 sw00 = step(gw00, vec4(0.0));\n  gx00 -= sw00 * (step(0.0, gx00) - 0.5);\n  gy00 -= sw00 * (step(0.0, gy00) - 0.5);\n\n  vec4 gx01 = ixy01 * (1.0 / 7.0);\n  vec4 gy01 = floor(gx01) * (1.0 / 7.0);\n  vec4 gz01 = floor(gy01) * (1.0 / 6.0);\n  gx01 = fract(gx01) - 0.5;\n  gy01 = fract(gy01) - 0.5;\n  gz01 = fract(gz01) - 0.5;\n  vec4 gw01 = vec4(0.75) - abs(gx01) - abs(gy01) - abs(gz01);\n  vec4 sw01 = step(gw01, vec4(0.0));\n  gx01 -= sw01 * (step(0.0, gx01) - 0.5);\n  gy01 -= sw01 * (step(0.0, gy01) - 0.5);\n\n  vec4 gx10 = ixy10 * (1.0 / 7.0);\n  vec4 gy10 = floor(gx10) * (1.0 / 7.0);\n  vec4 gz10 = floor(gy10) * (1.0 / 6.0);\n  gx10 = fract(gx10) - 0.5;\n  gy10 = fract(gy10) - 0.5;\n  gz10 = fract(gz10) - 0.5;\n  vec4 gw10 = vec4(0.75) - abs(gx10) - abs(gy10) - abs(gz10);\n  vec4 sw10 = step(gw10, vec4(0.0));\n  gx10 -= sw10 * (step(0.0, gx10) - 0.5);\n  gy10 -= sw10 * (step(0.0, gy10) - 0.5);\n\n  vec4 gx11 = ixy11 * (1.0 / 7.0);\n  vec4 gy11 = floor(gx11) * (1.0 / 7.0);\n  vec4 gz11 = floor(gy11) * (1.0 / 6.0);\n  gx11 = fract(gx11) - 0.5;\n  gy11 = fract(gy11) - 0.5;\n  gz11 = fract(gz11) - 0.5;\n  vec4 gw11 = vec4(0.75) - abs(gx11) - abs(gy11) - abs(gz11);\n  vec4 sw11 = step(gw11, vec4(0.0));\n  gx11 -= sw11 * (step(0.0, gx11) - 0.5);\n  gy11 -= sw11 * (step(0.0, gy11) - 0.5);\n\n  vec4 g0000 = vec4(gx00.x,gy00.x,gz00.x,gw00.x);\n  vec4 g1000 = vec4(gx00.y,gy00.y,gz00.y,gw00.y);\n  vec4 g0100 = vec4(gx00.z,gy00.z,gz00.z,gw00.z);\n  vec4 g1100 = vec4(gx00.w,gy00.w,gz00.w,gw00.w);\n  vec4 g0010 = vec4(gx10.x,gy10.x,gz10.x,gw10.x);\n  vec4 g1010 = vec4(gx10.y,gy10.y,gz10.y,gw10.y);\n  vec4 g0110 = vec4(gx10.z,gy10.z,gz10.z,gw10.z);\n  vec4 g1110 = vec4(gx10.w,gy10.w,gz10.w,gw10.w);\n  vec4 g0001 = vec4(gx01.x,gy01.x,gz01.x,gw01.x);\n  vec4 g1001 = vec4(gx01.y,gy01.y,gz01.y,gw01.y);\n  vec4 g0101 = vec4(gx01.z,gy01.z,gz01.z,gw01.z);\n  vec4 g1101 = vec4(gx01.w,gy01.w,gz01.w,gw01.w);\n  vec4 g0011 = vec4(gx11.x,gy11.x,gz11.x,gw11.x);\n  vec4 g1011 = vec4(gx11.y,gy11.y,gz11.y,gw11.y);\n  vec4 g0111 = vec4(gx11.z,gy11.z,gz11.z,gw11.z);\n  vec4 g1111 = vec4(gx11.w,gy11.w,gz11.w,gw11.w);\n\n  vec4 norm00 = taylorInvSqrt(vec4(dot(g0000, g0000), dot(g0100, g0100), dot(g1000, g1000), dot(g1100, g1100)));\n  g0000 *= norm00.x;\n  g0100 *= norm00.y;\n  g1000 *= norm00.z;\n  g1100 *= norm00.w;\n\n  vec4 norm01 = taylorInvSqrt(vec4(dot(g0001, g0001), dot(g0101, g0101), dot(g1001, g1001), dot(g1101, g1101)));\n  g0001 *= norm01.x;\n  g0101 *= norm01.y;\n  g1001 *= norm01.z;\n  g1101 *= norm01.w;\n\n  vec4 norm10 = taylorInvSqrt(vec4(dot(g0010, g0010), dot(g0110, g0110), dot(g1010, g1010), dot(g1110, g1110)));\n  g0010 *= norm10.x;\n  g0110 *= norm10.y;\n  g1010 *= norm10.z;\n  g1110 *= norm10.w;\n\n  vec4 norm11 = taylorInvSqrt(vec4(dot(g0011, g0011), dot(g0111, g0111), dot(g1011, g1011), dot(g1111, g1111)));\n  g0011 *= norm11.x;\n  g0111 *= norm11.y;\n  g1011 *= norm11.z;\n  g1111 *= norm11.w;\n\n  float n0000 = dot(g0000, Pf0);\n  float n1000 = dot(g1000, vec4(Pf1.x, Pf0.yzw));\n  float n0100 = dot(g0100, vec4(Pf0.x, Pf1.y, Pf0.zw));\n  float n1100 = dot(g1100, vec4(Pf1.xy, Pf0.zw));\n  float n0010 = dot(g0010, vec4(Pf0.xy, Pf1.z, Pf0.w));\n  float n1010 = dot(g1010, vec4(Pf1.x, Pf0.y, Pf1.z, Pf0.w));\n  float n0110 = dot(g0110, vec4(Pf0.x, Pf1.yz, Pf0.w));\n  float n1110 = dot(g1110, vec4(Pf1.xyz, Pf0.w));\n  float n0001 = dot(g0001, vec4(Pf0.xyz, Pf1.w));\n  float n1001 = dot(g1001, vec4(Pf1.x, Pf0.yz, Pf1.w));\n  float n0101 = dot(g0101, vec4(Pf0.x, Pf1.y, Pf0.z, Pf1.w));\n  float n1101 = dot(g1101, vec4(Pf1.xy, Pf0.z, Pf1.w));\n  float n0011 = dot(g0011, vec4(Pf0.xy, Pf1.zw));\n  float n1011 = dot(g1011, vec4(Pf1.x, Pf0.y, Pf1.zw));\n  float n0111 = dot(g0111, vec4(Pf0.x, Pf1.yzw));\n  float n1111 = dot(g1111, Pf1);\n\n  vec4 fade_xyzw = fade(Pf0);\n  vec4 n_0w = mix(vec4(n0000, n1000, n0100, n1100), vec4(n0001, n1001, n0101, n1101), fade_xyzw.w);\n  vec4 n_1w = mix(vec4(n0010, n1010, n0110, n1110), vec4(n0011, n1011, n0111, n1111), fade_xyzw.w);\n  vec4 n_zw = mix(n_0w, n_1w, fade_xyzw.z);\n  vec2 n_yzw = mix(n_zw.xy, n_zw.zw, fade_xyzw.y);\n  float n_xyzw = mix(n_yzw.x, n_yzw.y, fade_xyzw.x);\n  return 2.2 * n_xyzw;\n}\n\nvarying vec2 vUv;\nuniform int index;\nuniform float seed;\nuniform float resolution;\nuniform float res1;\nuniform float res2;\nuniform float resMix;\nuniform float mixScale;\n\nvec3 getSphericalCoord(int index, float x, float y, float width) {\n    width /= 2.0;\n    x -= width;\n    y -= width;\n    vec3 coord = vec3(0.0, 0.0, 0.0);\n\n    if (index == 0) { coord.x=width; coord.y=-y; coord.z=-x; }\n    else if (index == 1) { coord.x=-width; coord.y=-y; coord.z=x; }\n    else if (index == 2) { coord.x=x; coord.y=width; coord.z=y; }\n    else if (index == 3) { coord.x=x; coord.y=-width; coord.z=-y; }\n    else if (index == 4) { coord.x=x; coord.y=-y; coord.z=width; }\n    else if (index == 5) { coord.x=-x; coord.y=-y; coord.z=-width; }\n\n    return normalize(coord);\n}\n\n// float simplexRidged(vec3 pos, float seed) {\n// \tfloat n = noise(vec4(pos, seed));\n// \tn = (n + 1.0) * 0.5;\n// \tn = 2.0 * (0.5 - abs(0.5 - n));\n// \treturn n;\n// }\n\nfloat simplexRidged(vec3 pos, float seed) {\n    float n = cnoise(vec4(pos, seed));\n    // n = (n + 1.0) * 0.5;\n    // n = 2.0 * (0.5 - abs(0.5 - n));\n    n = abs(n);\n    return n;\n}\n\nfloat simplex(vec3 pos, float seed) {\n    float n = cnoise(vec4(pos, seed));\n    // return (n + 1.0) * 0.5;\n    n = (n + 1.0) * 0.5;\n    // n = 2.0 * (0.5 - abs(0.5 - n));\n    return n;\n}\n\nfloat baseNoise(vec3 pos, float frq, float seed) {\n    const int octaves = 16;\n    float amp = 0.5;\n\n    float n = 0.0;\n    float gain = 1.0;\n    for (int i=0; i<octaves; i++) {\n        n +=  simplexRidged(vec3(pos.x*gain/frq, pos.y*gain/frq, pos.z*gain/frq), seed+float(i)*10.0) * amp/gain;\n        gain *= 2.0;\n        // amp *= 2.0;\n    }\n\n    // n = fract(n*10.0);\n    // n *= abs(sin(pos.y*10.0));\n    // n += 0.4;\n\n    // increase contrast\n    n = ((n - 0.5) * 2.0) + 0.6;\n\n    // n = pow(n, 3.0);\n    // n = pow( (1.0-n), 2.0);\n    // n = pow(n, 2.0);\n\n    // n = 1.0-n;\n    // n = pow(n, 6.0);\n    // n = 1.0-n;\n\n    return n;\n}\n\nfloat ridgedNoise(vec3 pos, float frq, float seed) {\n    const int octaves = 16;\n    float amp = 0.5;\n\n    float n = 0.0;\n    float gain = 1.0;\n    for (int i=0; i<octaves; i++) {\n        n +=  simplexRidged(vec3(pos.x*gain/frq, 2.0*pos.y*gain/frq, pos.z*gain/frq), seed+float(i)*10.0) * amp/gain;\n        gain *= 2.0;\n    }\n\n    // n = pow(n, 5.0);\n\n    n = 1.0-n;\n    n = pow(n, 6.0);\n    n = 1.0-n;\n\n    return n;\n}\n\nfloat billowNoise(vec3 pos, float frq, float seed) {\n    const int octaves = 16;\n    float amp = 0.5;\n\n    float n = 0.0;\n    float gain = 1.0;\n    for (int i=0; i<octaves; i++) {\n        n +=  simplexRidged(vec3(pos.x*gain/frq, pos.y*gain/frq, pos.z*gain/frq), seed+float(i)*10.0) * amp/gain;\n        gain *= 2.0;\n    }\n\n    n = 1.0-n;\n    n = pow(n, 1.0);\n    n = 1.0-n;\n\n    return n;\n}\n\nfloat cloud(vec3 pos, float seed) {\n    float n = cnoise(vec4(pos, seed));\n    // n = sin(n*4.0 * cos(n*2.0));\n    n = sin(n*3.0);\n\n    n = n*0.5 + 0.5;\n\n    // n = abs(n);\n    // n = 1.0-n;\n    // n = n*1.2;\n    // n = 1.0-n;\n\n    return n;\n}\n\nfloat cloudNoise(vec3 pos, float frq, float seed) {\n    const int octaves = 32;\n    float amp = 0.5;\n\n    float n = 0.0;\n    float gain = 1.0;\n    for (int i=0; i<octaves; i++) {\n        n +=  cloud(vec3(pos.x*gain/frq, 1.0*pos.y*gain/frq, pos.z*gain/frq), seed+float(i)*10.0) * amp/gain;\n        gain *= 2.0;\n    }\n\n    // n = pow(n, 5.0);\n\n    n = 1.0-n;\n    // n = pow(n, mixScale);\n    n = pow(n, 1.0);\n    n = 1.0-n;\n\n    return n;\n}\n\nfloat perlin(vec3 pos, float seed) {\n    float n = cnoise(vec4(pos, seed));\n    n = (n + 1.0) * 0.5;\n    return n;\n}\n\nfloat perlinNoise(vec3 pos, float frq, float seed) {\n\n    const int octaves = 16;\n    float n = 0.0;\n    float amplitude = 0.7;\n\n    for (int i = 0; i < octaves; i++) {\n        n += amplitude * perlin(pos*frq, seed);\n        frq *= 2.0;// lacunarity = 2.0\n        amplitude *= n;// gain = 0.5\n    }\n\n    n = pow(n, 2.0);\n\n    return n;\n}\n\nvoid main() {\n    float x = vUv.x;\n    float y = 1.0 - vUv.y;\n    vec3 sphericalCoord = getSphericalCoord(index, x*resolution, y*resolution, resolution);\n\n    /////////////////\n    float sub1 = baseNoise(sphericalCoord, 0.5, seed);\n    float sub1b = billowNoise(sphericalCoord, 1.0, seed+93.386);\n    float n1 = baseNoise(sphericalCoord + vec3(sub1*0.3), 0.5, seed+38.378);\n\n    float sub2 = baseNoise(sphericalCoord, 0.5, seed+12.412);\n    float n2 = baseNoise(sphericalCoord + vec3(sub2*0.3), 0.5+sub1b, seed+58.578);\n\n    n1 = 1.0-n1;\n    n1 *= 0.1;\n    n1 = 1.0-n1;\n\n    n2 = 1.0-n2;\n    n2 = pow(n2, 5.0);\n    n2 *= 0.3;\n    n2 = 1.0-n2;\n    n2 = pow(n2, 5.0);\n\n    gl_FragColor = vec4(vec3(n1), n2);\n    ///////////////////\n\n    // float sub1 = perlinNoise(sphericalCoord, 1.0, seed);\n    // float n1 = billowNoise(sphericalCoord + vec3(sub1*0.1), 0.5, seed+38.378);\n    //\n    // gl_FragColor = vec4(vec3(n1), n1);\n}\n'},e6Wu:function(e,n,t){"use strict";t.r(n),function(e){t("SYky"),t("hZTp");var n=t("uPvV"),o=t.n(n),r=t("qIj2"),i=void 0;e.THREE=t("Womt"),window.addEventListener("load",(function(){if(o.a.isWebGLAvailable()){var e={container:document.getElementById("canvas-container")};if(null===e.container){var n=document.createElement("div");n.setAttribute("class","container"),n.setAttribute("id","canvas-container"),document.body.appendChild(n),e.container=n}new r.a(e).animate()}else{var t=o.a.getWebGLErrorMessage();i.container.appendChild(t)}}))}.call(this,t("yLpj"))},hZTp:function(e,n,t){},ijfP:function(e,n){e.exports="#define GLSLIFY 1\nvoid main() {\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n"},k2iR:function(e,n){e.exports="#define GLSLIFY 1\nvarying vec2 vUv;\nuniform float resolution;\nuniform float waterLevel;\nuniform sampler2D heightMap;\nuniform sampler2D textureMap;\n\nfloat getBrightness(vec4 color) {\n    float bright = 1.0 - (0.2126*color.r + 0.7152*color.g + 0.0722*color.b);\n    // if (bright > 0.6) {\n    // \tbright *= 0.3;\n    // }\n    return bright;\n}\n\nvoid main() {\n    float x = vUv.x;\n    float y = vUv.y;\n    // float x = gl_FragCoord.x / 1024.0;\n    // float y = gl_FragCoord.y / 1024.0;\n    float pixelSize = 1.0 / resolution;\n\n    // Value from trial & error.\n    // Seems to work fine for the scales we are dealing with.\n    // float strength = scale.Y / 16;\n    float strength = 0.8;\n\n    float level = texture2D(heightMap, vec2(x, y)).r;\n    float water = waterLevel;\n    // float mod = 1.0;\n    // if (level < water) {\n    // \tmod = 0.1;\n    // }\n\n    float tl = getBrightness(texture2D(textureMap, vec2(x-pixelSize, y-pixelSize)));\n    float l = getBrightness(texture2D(textureMap, vec2(x-pixelSize, y)));\n    float bl = getBrightness(texture2D(textureMap, vec2(x-pixelSize, y+pixelSize)));\n    float b = getBrightness(texture2D(textureMap, vec2(x, y+pixelSize)));\n    float br = getBrightness(texture2D(textureMap, vec2(x+pixelSize, y+pixelSize)));\n    float r = getBrightness(texture2D(textureMap, vec2(x+pixelSize, y)));\n    float tr = getBrightness(texture2D(textureMap, vec2(x+pixelSize, y-pixelSize)));\n    float t = getBrightness(texture2D(textureMap, vec2(x, y-pixelSize)));\n\n    float tl2 = getBrightness(texture2D(heightMap, vec2(x-pixelSize, y-pixelSize)));\n    float l2 = getBrightness(texture2D(heightMap, vec2(x-pixelSize, y)));\n    float bl2 = getBrightness(texture2D(heightMap, vec2(x-pixelSize, y+pixelSize)));\n    float b2 = getBrightness(texture2D(heightMap, vec2(x, y+pixelSize)));\n    float br2 = getBrightness(texture2D(heightMap, vec2(x+pixelSize, y+pixelSize)));\n    float r2 = getBrightness(texture2D(heightMap, vec2(x+pixelSize, y)));\n    float tr2 = getBrightness(texture2D(heightMap, vec2(x+pixelSize, y-pixelSize)));\n    float t2 = getBrightness(texture2D(heightMap, vec2(x, y-pixelSize)));\n\n    float ratio = 1.0;\n\n    if (level > water) {\n        float diff = water - level;\n        ratio = 1.0 - (diff*1.0);\n    }\n\n    tl = mix(tl, tl2, ratio);\n    l = mix(l, l2, ratio);\n    bl = mix(bl, bl2, ratio);\n    b = mix(b, b2, ratio);\n    br = mix(br, br2, ratio);\n    r = mix(r, r2, ratio);\n    tr = mix(tr, tr2, ratio);\n    t = mix(t, t2, ratio);\n\n    // float level = getBrightness(texture2D(heightMap, vec2(x, y)));\n\n    // smooth out the normal map for the water\n    float factor = 0.01;\n    float depth = 0.5;\n    if (level < water) {\n        // strength = 0.00;\n        tl = mix(depth, tl, factor);\n        l = mix(depth, l, factor);\n        bl = mix(depth, bl, factor);\n        b = mix(depth, b, factor);\n        br = mix(depth, br, factor);\n        r = mix(depth, r, factor);\n        tr = mix(depth, tr, factor);\n        t = mix(depth, t, factor);\n    }\n\n    // Compute dx using Sobel:\n    //           -1 0 1\n    //           -2 0 2\n    //           -1 0 1\n    float dX = tr + 2.0 * r + br - tl - 2.0 * l - bl;\n\n    // Compute dy using Sobel:\n    //           -1 -2 -1\n    //            0  0  0\n    //            1  2  1\n    float dY = bl + 2.0 * b + br - tl - 2.0 * t - tr;\n\n    vec3 N = vec3(dX, dY, 1.0 / strength);\n\n    //\n    // if (level < 0.5) {\n    // \tN.x = 0.5;\n    // \tN.y = 0.5;\n    // \tN.z = -0.5;\n    //\n    // }\n    normalize(N);\n\n    //convert (-1.0 , 1.0) to (0.0 , 1.0), if necessary\n    //Vector3 scale = new Vector3(0.5f, 0.5f, 0.5f);\n    //Vector3.Multiply(ref N, ref scale, out N);\n    //Vector3.Add(ref N, ref scale, out N);\n\n    N = N * 0.5 + 0.5;\n\n    gl_FragColor = vec4(N, 1.0);\n}\n"},l8Vw:function(e,n){e.exports="#define GLSLIFY 1\nvarying vec2 vUv;\nuniform float resolution;\nuniform sampler2D heightMap;\nuniform float waterLevel;\n\nfloat getBrightness(vec4 color) {\n    return 1.0 - (0.2126*color.r + 0.7152*color.g + 0.0722*color.b);\n}\n\nvoid main() {\n    float x = vUv.x;\n    float y = vUv.y;\n\n    float pixelSize = 1.0 / resolution;\n\n    float n = texture2D(heightMap, vec2(x, y)).r;\n    float roughness = 0.0;\n\n    if (n < waterLevel) {\n        roughness = 0.75;\n    } else {\n        roughness = 0.9;\n    }\n\n    gl_FragColor = vec4(vec3(roughness), 1.0);\n}\n"},qIj2:function(e,n,t){"use strict";var o=t("Womt"),r=t("bMjy"),i=t.n(r),a=t("4S22"),s=t.n(a),c=t("WTlQ"),l=t.n(c),f=t("nPuz"),u=t.n(f),d=t("iZKT"),g=t("MZFn");function p(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var h=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.base=document.createElement("div"),this.base.id="loadingBarHolder",this.base.innerHTML='Rendering</br><div id="loadingBarBase"><div id="loadingBar"></div></div>'}var n,t,o;return n=e,(t=[{key:"update",value:function(e){this.bar=document.getElementById("loadingBar"),this.bar.style.width=100*e+"%"}},{key:"show",value:function(){document.body.appendChild(this.base),this.bar=document.getElementById("loadingBar"),this.bar.style.width="0%"}},{key:"hide",value:function(){document.body.removeChild(this.base)}}])&&p(n.prototype,t),o&&p(n,o),e}();function v(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var y=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.actions=[],this.callbacks=[],this.skipFrame=!1,this.lastTime=0,this.totalActions=0,this.loadingBar=new h}var n,t,o;return n=e,(t=[{key:"start",value:function(){this.startFrame=!0,this.lastTime=Date.now(),this.loadingBar.show()}},{key:"update",value:function(){!1===this.startFrame?this.actions.length>0?this.doNextAction():this.checkCallbacks():(this.startFrame=!1,this.totalActions=this.actions.length)}},{key:"doNextAction",value:function(){var e=Date.now();this.lastTime,this.lastTime=e,this.actions[0](),this.actions.shift();var n=this.actions.length/this.totalActions;n=1-n,this.loadingBar.update(n)}},{key:"addAction",value:function(e){this.actions.push(e)}},{key:"addCallback",value:function(e){this.callbacks.push(e)}},{key:"checkCallbacks",value:function(){this.callbacks.length>0&&this.executeCallbacks()}},{key:"executeCallbacks",value:function(){for(var e=0;e<this.callbacks.length;e++)this.callbacks[e]();this.loadingBar.hide(),this.callbacks=[]}}])&&v(n.prototype,t),o&&v(n,o),e}();function m(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function x(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var w=function(){function e(){var n=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];m(this,e),window.renderQueue=new y,this._camera=new o.PerspectiveCamera(50,window.innerWidth/window.innerHeight,1,1e5),this._camera.position.z=2900,this._camera.lookAt(new o.Vector3(0,0,0)),window.camera=this._camera,this._scene=new o.Scene,this._renderer=new o.WebGLRenderer({antialias:!1,alpha:!0}),this._renderer.setPixelRatio(window.devicePixelRatio),this._renderer.sortObjects=!1,this._renderer.setSize(window.innerWidth,window.innerHeight),window.renderer=this._renderer,document.body.appendChild(this._renderer.domElement),this.ambientLight=new o.AmbientLight(16777215,.1),this._scene.add(this.ambientLight),this.directionalLight=new o.DirectionalLight(16777215,1.6),this.directionalLight.position.set(-1,1,1),this._scene.add(this.directionalLight),window.light=this.directionalLight,this._controls=new u.a(this._camera,this._renderer.domElement),this._controls.enabled=!0,this._controls.enableDamping=!0,this._controls.dampingFactor=.1,this._controls.rotateSpeed=.1,this._controls.autoRotate=!1,this._controls.autoRotateSpeed=.02,this._controls.zoomSpeed=.5,this._controls.enableZoom=!0,this.gui=new d.a,window.gui=this.gui;var t=this.gui.addFolder("Lighting");this.sunColor={r:255,g:255,b:255},this.dirLightControl=t.addColor(this,"sunColor").onChange((function(e){n.directionalLight.color.r=n.sunColor.r/255,n.directionalLight.color.g=n.sunColor.g/255,n.directionalLight.color.b=n.sunColor.b/255})),t.add(this.directionalLight,"intensity",0,3),this.ambientColor={r:255,g:255,b:255},this.ambientControl=t.addColor(this,"ambientColor").onChange((function(e){n.ambientLight.color.r=n.ambientColor.r/255,n.ambientLight.color.g=n.ambientColor.g/255,n.ambientLight.color.b=n.ambientColor.b/255})),t.add(this.ambientLight,"intensity",0,2);var r=this.gui.addFolder("Camera");r.add(this._controls,"autoRotate").name("rotate"),r.add(this._camera.position,"x").name("Camera X").min(-1e4).max(1e4).step(.5),r.add(this._camera.position,"y").name("Camera Y").min(-1e4).max(1e4).step(.5),r.add(this._camera.position,"z").name("Camera Z").min(-1e4).max(1e4).step(.5),r.add(this._camera,"fov",20,120).onChange((function(e){n._camera.updateProjectionMatrix()})),this.stats=new g,this.stats.setMode(0),document.body.appendChild(this.stats.domElement),this.stats.domElement.style.position="absolute",this.stats.domElement.style.left="10px",this.stats.domElement.style.top="0px",window.addEventListener("resize",this.onWindowResize.bind(this),!1),window.addEventListener("keydown",(function(e){n.onKeyDown(e)}),!1),this.gui.open()}var n,t,r;return n=e,(t=[{key:"onKeyDown",value:function(e){if("72"==e.keyCode){var n=document.getElementById("brandTag"),t=document.getElementById("infoBoxHolder");"hidden"==n.style.visibility?(n.style.visibility="visible",t.style.visibility="visible"):(n.style.visibility="hidden",t.style.visibility="hidden")}}},{key:"onWindowResize",value:function(){this._camera.aspect=window.innerWidth/window.innerHeight,this._camera.updateProjectionMatrix(),this._renderer.setSize(window.innerWidth,window.innerHeight)}},{key:"animate",value:function(e){this.stats.begin(),requestAnimationFrame(this.animate.bind(this)),this._controls.update(),this._renderer.render(this._scene,this._camera),this.stats.end()}},{key:"renderer",get:function(){return this._renderer}},{key:"camera",get:function(){return this._camera}},{key:"scene",get:function(){return this._scene}}])&&x(n.prototype,t),r&&x(n,r),e}();function b(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function z(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var P=function(){function e(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"200px",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"canvas";b(this,e),this.canvas=document.createElement(i),this.canvas.id=n,this.canvas.width=t,this.canvas.height=t,this.canvas.style.width=r,this.canvas.style.height=r,this.width=this.canvas.width,this.height=this.canvas.height,this.ctx=this.canvas.getContext("2d"),this.texture=new o.CanvasTexture(this.canvas),document.body.appendChild(this.canvas),this.toggleCanvasDisplay(!1)}var n,t,r;return n=e,(t=[{key:"generateTexture",value:function(e){}},{key:"toggleCanvasDisplay",value:function(e){this.canvas.style.display=e?"block":"none"}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#000000";this.ctx.fillStyle=e,this.ctx.fillRect(0,0,this.width,this.height)}},{key:"toCanvasColor",value:function(e){return"rgba("+Math.round(255*e.r)+", "+Math.round(255*e.g)+", "+Math.round(255*e.b)+", 1.0)"}},{key:"randRange",value:function(e,n){var t=n-e;return e+window.rng()*t}},{key:"mix",value:function(e,n,t){return e+(n-e)*t}}])&&z(n.prototype,t),r&&z(n,r),e}();function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function C(e,n){return(C=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function M(e,n){return!n||"object"!==S(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&C(e,n)}(s,e);var n,t,r,i,a=(n=s,function(){var e,t=O(n);if(_()){var o=O(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return M(this,e)});function s(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,s),a.call(this,"biomeCanvas",512,"200px")}return t=s,(r=[{key:"generateTexture",value:function(e){this.waterLevel=e.waterLevel;var n=this.randRange(0,1),t=this.randRange(0,.7),r=this.randRange(0,.6);this.baseColor=(new o.Color).setHSL(n,t,r),this.colorAngle=this.randRange(.2,.4),this.satRange=this.randRange(.3,.5),this.lightRange=this.randRange(.3,.5),this.circleSize=this.randRange(30,250),this.drawBase(),Math.round(this.randRange(50,100));for(var i=0;i<100;i++)this.randomGradientCircle();this.drawDetail(),this.drawInland(),this.drawBeach(),this.drawWater(),this.texture=new o.CanvasTexture(this.canvas)}},{key:"drawBase",value:function(){this.fillBaseColor();for(var e=0;e<5;e++){var n=this.width,t=this.height;this.randomGradientRect(0,0,n,t)}}},{key:"drawDetail",value:function(){for(var e=Math.round(this.randRange(0,5)),n=0;n<e;n++){var t=this.randRange(0,this.width),o=this.randRange(0,this.height),r=this.randRange(0,this.width)-t,i=this.randRange(0,this.height)-o;this.randomGradientStrip(t,o,r,i)}}},{key:"drawRivers",value:function(){var e=this.randomColor();this.ctx.strokeStyle="rgba("+e.r+", "+e.g+", "+e.b+", 0.5)";for(var n=this.randRange(0,this.width),t=this.randRange(0,this.height),o=n,r=t,i=0;i<5;i++)n=this.randRange(0,this.width),t=this.randRange(0,this.height),this.ctx.moveTo(o,r),this.ctx.lineTo(n,t),this.ctx.stroke(),o=n,r=t}},{key:"randomCircle",value:function(){var e=this.randRange(0,this.width),n=this.randRange(0,this.height),t=this.randRange(0,10),o=this.randomColor();this.ctx.fillStyle="rgba("+o.r+", "+o.g+", "+o.b+", 0.5)",this.ctx.beginPath(),this.ctx.arc(e,n,t,0,2*Math.PI),this.ctx.fill()}},{key:"randomGradientStrip",value:function(e,n,t,o){var r=this.randRange(0,this.width),i=this.randRange(0,this.height),a=this.randRange(0,this.width),s=this.randRange(0,this.height),c=this.ctx.createLinearGradient(r,i,a,s),l=this.randomColor();c.addColorStop(this.randRange(0,.5),"rgba("+l.r+", "+l.g+", "+l.b+", 0.0)"),c.addColorStop(.5,"rgba("+l.r+", "+l.g+", "+l.b+", 0.8)"),c.addColorStop(this.randRange(.5,1),"rgba("+l.r+", "+l.g+", "+l.b+", 0.0)"),this.ctx.fillStyle=c,this.ctx.fillRect(e,n,t,o)}},{key:"blackWhiteGradient",value:function(){var e=this.width,n=this.height,t=this.ctx.createLinearGradient(0,0,e,n);t.addColorStop(0,"rgba(255, 255, 255, 1.0)"),t.addColorStop(1,"rgba(0, 0, 0, 1.0)"),this.ctx.fillStyle=t,this.ctx.fillRect(0,0,this.width,this.height)}},{key:"fillBaseColor",value:function(){this.ctx.fillStyle=this.toCanvasColor(this.baseColor),this.ctx.fillRect(0,0,this.width,this.height)}},{key:"randomGradientRect",value:function(e,n,t,o){var r=this.randRange(0,this.width),i=this.randRange(0,this.height),a=this.randRange(0,this.width),s=this.randRange(0,this.height),c=this.ctx.createLinearGradient(r,i,a,s),l=this.randomColor();c.addColorStop(0,"rgba("+l.r+", "+l.g+", "+l.b+", 0.0)"),c.addColorStop(1,"rgba("+l.r+", "+l.g+", "+l.b+", 1.0)"),this.ctx.fillStyle=c,this.ctx.fillRect(e,n,t,o)}},{key:"drawWater",value:function(){var e=this.height-this.height*this.waterLevel,n=this.height,t=this.ctx.createLinearGradient(0,e,0,n),o=this.randomWaterColor();t.addColorStop(0,"rgba("+Math.round(1.3*o.r)+", "+Math.round(1.3*o.g)+", "+Math.round(1.3*o.b)+", 0.9)"),t.addColorStop(.2,"rgba("+Math.round(1*o.r)+", "+Math.round(1*o.g)+", "+Math.round(1*o.b)+", 0.9)"),t.addColorStop(.8,"rgba("+Math.round(.7*o.r)+", "+Math.round(.7*o.g)+", "+Math.round(.7*o.b)+", 0.9)"),this.ctx.fillStyle=t,this.ctx.fillRect(0,e,this.width,this.height)}},{key:"drawBeach",value:function(){this.beachSize=7;var e=this.height-this.height*this.waterLevel-this.beachSize,n=this.height-this.height*this.waterLevel,t=this.ctx.createLinearGradient(0,e,0,n),o=this.randomColor();t.addColorStop(0,"rgba("+Math.round(1*o.r)+", "+Math.round(1*o.g)+", "+Math.round(1*o.b)+", 0)"),t.addColorStop(1,"rgba("+Math.round(1*o.r)+", "+Math.round(1*o.g)+", "+Math.round(1*o.b)+", 0.3)"),this.ctx.fillStyle=t,this.ctx.fillRect(0,e,this.width,this.beachSize)}},{key:"drawInland",value:function(){this.inlandSize=100;var e=this.height-this.height*this.waterLevel-this.inlandSize,n=this.height-this.height*this.waterLevel,t=this.ctx.createLinearGradient(0,e,0,n),o=this.randomColor();t.addColorStop(0,"rgba("+Math.round(1*o.r)+", "+Math.round(1*o.g)+", "+Math.round(1*o.b)+", 0)"),t.addColorStop(1,"rgba("+Math.round(1*o.r)+", "+Math.round(1*o.g)+", "+Math.round(1*o.b)+", 0.5)"),this.ctx.fillStyle=t,this.ctx.fillRect(0,e,this.width,this.inlandSize)}},{key:"randomGradientCircle",value:function(){var e=this.randRange(0,this.width),n=this.randRange(0,this.height)-this.height*this.waterLevel,t=e,o=n,r=this.randRange(10,this.circleSize),i=this.ctx.createRadialGradient(e,n,0,t,o,r),a=this.randomColor();i.addColorStop(0,"rgba("+a.r+", "+a.g+", "+a.b+", 1.0)"),i.addColorStop(1,"rgba("+a.r+", "+a.g+", "+a.b+", 0.0)"),this.ctx.fillStyle=i,this.ctx.fillRect(0,0,this.width,this.height)}},{key:"randomWaterColor",value:function(){var e=this.baseColor.clone(),n=0,t=this.randRange(0,1);n=t<.33?0+this.randRange(-.1,.1):t<.66?this.colorAngle+this.randRange(-.1,.1):-this.colorAngle+this.randRange(-.1,.1);var o=e.getHSL();return o.h+=n,o.s=this.randRange(0,.6),o.l=this.randRange(.1,.4),e.setHSL(o.h,o.s,o.l),{r:Math.round(255*e.r),g:Math.round(255*e.g),b:Math.round(255*e.b)}}},{key:"randomColor",value:function(){var e=this.baseColor.clone(),n=0,t=this.randRange(0,1);n=t<.33?0+this.randRange(-.1,.1):t<.66?this.colorAngle+this.randRange(-.1,.1):-this.colorAngle+this.randRange(-.1,.1);var o=this.randRange(-this.satRange,this.satRange),r=this.randRange(-this.lightRange,this.lightRange),i=e.getHSL();return i.h+=n,i.s+=o,i.l+=r,i.l<0&&(i.l=.3*Math.abs(i.l)),e.setHSL(i.h,i.s,i.l),{r:Math.round(255*e.r),g:Math.round(255*e.g),b:Math.round(255*e.b)}}}])&&R(t.prototype,r),i&&R(t,i),s}(P),k=t("qRcc"),K=t.n(k),L=t("Gsp3"),D=t.n(L);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function E(e,n){return(E=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function F(e,n){return!n||"object"!==N(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&E(e,n)}(s,e);var n,t,r,i,a=(n=s,function(){var e,t=I(n);if(T()){var o=I(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return F(this,e)});function s(){var e;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this)).time=0,e.size=1002,e.settings={speed:.1,atmo1:.5,atmo2:.5,atmo3:1,atmo4:.5,atmo5:.1,color:new o.Color(65535),opacity:.3};var n=window.gui.addFolder("Atmosphere");return n.add(e.settings,"opacity",0,1).step(.01).onChange((function(n){e.updateMaterial()})),n.addColor(e.settings,"color").onChange((function(n){e.updateMaterial()})),n.add(e.settings,"atmo1",0,3).step(.01).onChange((function(n){e.updateMaterial()})),n.add(e.settings,"atmo2",0,3).step(.01).onChange((function(n){e.updateMaterial()})),n.add(e.settings,"atmo3",0,3).step(.01).onChange((function(n){e.updateMaterial()})),n.add(e.settings,"atmo4",0,3).step(.01).onChange((function(n){e.updateMaterial()})),n.add(e.settings,"atmo5",0,3).step(.01).onChange((function(n){e.updateMaterial()})),e.mat=new o.ShaderMaterial({vertexShader:K.a,fragmentShader:D.a,uniforms:{time:{type:"f",value:e.time},atmo1:{type:"f",value:e.settings.atmo1},atmo2:{type:"f",value:e.settings.atmo2},atmo3:{type:"f",value:e.settings.atmo3},atmo4:{type:"f",value:e.settings.atmo4},atmo5:{type:"f",value:e.settings.atmo5},alpha:{type:"f",value:e.settings.opacity},color:{type:"c",value:e.settings.color}}}),e.mat.transparent=!0,e.mat.blending=o.AdditiveBlending,e.geo=new o.IcosahedronBufferGeometry(1,6),e.sphere=new o.Mesh(e.geo,e.mat),e.sphere.scale.set(e.size,e.size,e.size),e.add(e.sphere),e}return t=s,(r=[{key:"update",value:function(){this.time+=this.speed}},{key:"updateMaterial",value:function(){this.mat.uniforms.time.value=this.time,this.mat.uniforms.atmo1.value=this.settings.atmo1,this.mat.uniforms.atmo2.value=this.settings.atmo2,this.mat.uniforms.atmo3.value=this.settings.atmo3,this.mat.uniforms.atmo4.value=this.settings.atmo4,this.mat.uniforms.atmo5.value=this.settings.atmo5,this.mat.uniforms.alpha.value=this.settings.opacity,this.mat.uniforms.color.value=this.settings.color}},{key:"randomizeColor",value:function(){this.settings.color.setRGB(this.randRange(.5,1),this.randRange(.5,1),this.randRange(.5,1)),this.updateMaterial()}},{key:"randomize",value:function(){this.settings.atmo1=this.randRange(0,3),this.settings.atmo2=this.randRange(0,3),this.settings.atmo3=this.randRange(0,3),this.settings.atmo4=this.randRange(0,3),this.settings.atmo5=this.randRange(0,3),this.randomizeColor()}},{key:"randRange",value:function(e,n){var t=n-e;return e+window.rng()*t}}])&&G(t.prototype,r),i&&G(t,i),s}(o.Object3D);function B(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var q=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t,r;return n=e,(t=[{key:"setup",value:function(){this.maps=[],this.textures=[],this.textureCameras=[],this.textureScenes=[],this.planes=[],this.geos=[];for(var e=0;e<6;e++)this.textures[e]=new o.WebGLRenderTarget(1e3,1e3,{minFilter:o.LinearFilter,magFilter:o.LinearFilter,format:o.RGBAFormat}),this.textureCameras[e]=new o.OrthographicCamera(-500,500,500,-500,-100,100),this.textureCameras[e].position.z=10,this.textureScenes[e]=new o.Scene,this.geos[e]=new o.PlaneGeometry(1,1),this.planes[e]=new o.Mesh(this.geos[e],this.mats[e]),this.planes[e].position.z=-10,this.textureScenes[e].add(this.planes[e]),this.maps.push(this.textures[e].texture)}},{key:"render",value:function(e){for(var n=this,t=e.resolution,r=function(e){window.renderQueue.addAction((function(){n.textures[e].setSize(t,t),n.textures[e].needsUpdate=!0,n.textureCameras[e].left=-t/2,n.textureCameras[e].right=t/2,n.textureCameras[e].top=t/2,n.textureCameras[e].bottom=-t/2,n.textureCameras[e].updateProjectionMatrix(),n.geos[e]=new o.PlaneGeometry(t,t),n.planes[e].geometry=n.geos[e],window.renderer.render(n.textureScenes[e],n.textureCameras[e],n.textures[e],!0),n.geos[e].dispose()}))},i=0;i<6;i++)r(i)}}])&&B(n.prototype,t),r&&B(n,r),e}(),U=t("7txM"),V=t.n(U),H=t("VWZf"),W=t.n(H);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Q(e,n){return(Q=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Z(e,n){return!n||"object"!==Y(n)&&"function"!=typeof n?X(e):n}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ee(e,n,t){return(ee="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var o=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=ne(e)););return e}(e,n);if(o){var r=Object.getOwnPropertyDescriptor(o,n);return r.get?r.get.call(t):r.value}})(e,n,t||e)}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var te=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Q(e,n)}(s,e);var n,t,r,i,a=(n=s,function(){var e,t=ne(n);if(J()){var o=ne(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return Z(this,e)});function s(){var e;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this)).setup(),ee(ne(s.prototype),"setup",X(e)).call(X(e)),e}return t=s,(r=[{key:"setup",value:function(){this.mats=[];for(var e=0;e<6;e++)this.mats[e]=new o.ShaderMaterial({uniforms:{index:{type:"i",value:e},seed:{type:"f",value:0},resolution:{type:"f",value:0},res1:{type:"f",value:0},res2:{type:"f",value:0},resMix:{type:"f",value:0},mixScale:{type:"f",value:0},doesRidged:{type:"f",value:0}},vertexShader:V.a,fragmentShader:W.a,transparent:!0,depthWrite:!1})}},{key:"render",value:function(e){e.resolution;for(var n=0;n<6;n++)this.mats[n].uniforms.seed.value=e.seed,this.mats[n].uniforms.resolution.value=e.resolution,this.mats[n].uniforms.res1.value=e.res1,this.mats[n].uniforms.res2.value=e.res2,this.mats[n].uniforms.resMix.value=e.resMix,this.mats[n].uniforms.mixScale.value=e.mixScale,this.mats[n].uniforms.doesRidged.value=e.doesRidged,this.mats[n].needsUpdate=!0;ee(ne(s.prototype),"render",this).call(this,e)}}])&&$(t.prototype,r),i&&$(t,i),s}(q),oe=t("6CdQ"),re=t.n(oe);function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function se(e,n){return(se=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function ce(e,n){return!n||"object"!==ie(n)&&"function"!=typeof n?le(e):n}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ue(e,n,t){return(ue="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var o=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=de(e)););return e}(e,n);if(o){var r=Object.getOwnPropertyDescriptor(o,n);return r.get?r.get.call(t):r.value}})(e,n,t||e)}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ge=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&se(e,n)}(s,e);var n,t,r,i,a=(n=s,function(){var e,t=de(n);if(fe()){var o=de(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return ce(this,e)});function s(){var e;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this)).setup(),ue(de(s.prototype),"setup",le(e)).call(le(e)),e}return t=s,(r=[{key:"setup",value:function(){this.mats=[];for(var e=0;e<6;e++)this.mats[e]=new o.ShaderMaterial({uniforms:{biomeMap:{type:"t",value:new o.Texture},heightMap:{type:"t",value:new o.Texture},moistureMap:{type:"t",value:new o.Texture}},vertexShader:V.a,fragmentShader:re.a,transparent:!0,depthWrite:!1})}},{key:"render",value:function(e){e.resolution;for(var n=0;n<6;n++)this.mats[n].uniforms.heightMap.value=e.heightMaps[n],this.mats[n].uniforms.moistureMap.value=e.moistureMaps[n],this.mats[n].uniforms.biomeMap.value=e.biomeMap,this.mats[n].needsUpdate=!0;ue(de(s.prototype),"render",this).call(this,e)}}])&&ae(t.prototype,r),i&&ae(t,i),s}(q),pe=t("SQyz"),he=t.n(pe),ve=t("k2iR"),ye=t.n(ve);function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function we(e,n){return(we=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function be(e,n){return!n||"object"!==me(n)&&"function"!=typeof n?ze(e):n}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Se(e,n,t){return(Se="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var o=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=Re(e)););return e}(e,n);if(o){var r=Object.getOwnPropertyDescriptor(o,n);return r.get?r.get.call(t):r.value}})(e,n,t||e)}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ce=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&we(e,n)}(s,e);var n,t,r,i,a=(n=s,function(){var e,t=Re(n);if(Pe()){var o=Re(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return be(this,e)});function s(){var e;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this)).setup(),Se(Re(s.prototype),"setup",ze(e)).call(ze(e)),e}return t=s,(r=[{key:"setup",value:function(){this.mats=[];for(var e=0;e<6;e++)this.mats[e]=new o.ShaderMaterial({uniforms:{resolution:{type:"f",value:0},waterLevel:{type:"f",value:0},heightMap:{type:"t",value:new o.Texture},textureMap:{type:"t",value:new o.Texture}},vertexShader:he.a,fragmentShader:ye.a,transparent:!0,depthWrite:!1})}},{key:"render",value:function(e){for(var n=0;n<6;n++)this.mats[n].uniforms.resolution.value=e.resolution,this.mats[n].uniforms.waterLevel.value=e.waterLevel,this.mats[n].uniforms.heightMap.value=e.heightMaps[n],this.mats[n].uniforms.textureMap.value=e.textureMaps[n],this.mats[n].needsUpdate=!0;Se(Re(s.prototype),"render",this).call(this,e)}}])&&xe(t.prototype,r),i&&xe(t,i),s}(q),Me=t("l8Vw"),_e=t.n(Me);function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ke(e,n){return(ke=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Ke(e,n){return!n||"object"!==Oe(n)&&"function"!=typeof n?Le(e):n}function Le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function De(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ne(e,n,t){return(Ne="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var o=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=Ge(e)););return e}(e,n);if(o){var r=Object.getOwnPropertyDescriptor(o,n);return r.get?r.get.call(t):r.value}})(e,n,t||e)}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ee=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ke(e,n)}(s,e);var n,t,r,i,a=(n=s,function(){var e,t=Ge(n);if(De()){var o=Ge(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return Ke(this,e)});function s(){var e;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this)).setup(),Ne(Ge(s.prototype),"setup",Le(e)).call(Le(e)),e}return t=s,(r=[{key:"setup",value:function(){this.mats=[];for(var e=0;e<6;e++)this.mats[e]=new o.ShaderMaterial({uniforms:{resolution:{type:"f",value:0},waterLevel:{type:"f",value:0},heightMap:{type:"t",value:new o.Texture}},vertexShader:V.a,fragmentShader:_e.a,transparent:!0,depthWrite:!1})}},{key:"render",value:function(e){for(var n=0;n<6;n++)this.mats[n].uniforms.resolution.value=e.resolution,this.mats[n].uniforms.waterLevel.value=e.waterLevel,this.mats[n].uniforms.heightMap.value=e.heightMaps[n],this.mats[n].needsUpdate=!0;Ne(Ge(s.prototype),"render",this).call(this,e)}}])&&je(t.prototype,r),i&&je(t,i),s}(q),Fe=t("a6jw"),Te=t.n(Fe);function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ae(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Be(e,n){return(Be=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function qe(e,n){return!n||"object"!==Ie(n)&&"function"!=typeof n?Ue(e):n}function Ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ve(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function He(e,n,t){return(He="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var o=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=We(e)););return e}(e,n);if(o){var r=Object.getOwnPropertyDescriptor(o,n);return r.get?r.get.call(t):r.value}})(e,n,t||e)}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ye=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Be(e,n)}(s,e);var n,t,r,i,a=(n=s,function(){var e,t=We(n);if(Ve()){var o=We(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return qe(this,e)});function s(){var e;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this)).setup(),He(We(s.prototype),"setup",Ue(e)).call(Ue(e)),e}return t=s,(r=[{key:"setup",value:function(){this.mats=[];for(var e=0;e<6;e++)this.mats[e]=new o.ShaderMaterial({uniforms:{index:{type:"i",value:e},seed:{type:"f",value:0},resolution:{type:"f",value:0},res1:{type:"f",value:0},res2:{type:"f",value:0},resMix:{type:"f",value:0},mixScale:{type:"f",value:0}},vertexShader:V.a,fragmentShader:Te.a,transparent:!0,depthWrite:!1})}},{key:"render",value:function(e){for(var n=0;n<6;n++)this.mats[n].uniforms.seed.value=e.seed,this.mats[n].uniforms.resolution.value=e.resolution,this.mats[n].uniforms.res1.value=e.res1,this.mats[n].uniforms.res2.value=e.res2,this.mats[n].uniforms.resMix.value=e.resMix,this.mats[n].uniforms.mixScale.value=e.mixScale,this.mats[n].needsUpdate=!0;He(We(s.prototype),"render",this).call(this,e)}}])&&Ae(t.prototype,r),i&&Ae(t,i),s}(q);t("Zss7");function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ze(e,n){return(Ze=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Xe(e,n){return!n||"object"!==$e(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Je(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function en(e){return(en=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nn=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ze(e,n)}(s,e);var n,t,r,i,a=(n=s,function(){var e,t=en(n);if(Je()){var o=en(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return Xe(this,e)});function s(){var e;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this)).materials=[],e.cloudMaps=[],e.resolution=1024,e.size=1001,e.settings={roughness:.9,metalness:.5,normalScale:5,opacity:1,color:new o.Color(16777215)},e.settings.cloudColor=[255*e.settings.color.r,255*e.settings.color.g,255*e.settings.color.b],e.setup();var n=window.gui.addFolder("Clouds");return n.add(e.settings,"opacity",0,1).step(.01).onChange((function(n){e.updateMaterial()})),n.addColor(e.settings,"cloudColor").onChange((function(n){e.settings.color.r=n[0]/255,e.settings.color.g=n[1]/255,e.settings.color.b=n[2]/255,e.updateMaterial()})),n.add(e.settings,"roughness",0,1).step(.001).onChange((function(n){e.updateMaterial()})),n.add(e.settings,"normalScale",0,10).step(.01).onChange((function(n){e.updateMaterial()})),e}return t=s,(r=[{key:"update",value:function(){}},{key:"setup",value:function(){this.cloudMap=new Ye,this.cloudMaps=this.cloudMap.maps;for(var e=0;e<6;e++){var n=new o.MeshStandardMaterial({color:this.settings.color,transparent:!0});this.materials[e]=n}var t=new o.BoxGeometry(1,1,1,64,64,64),r=this.size;for(var i in t.vertices)t.vertices[i].normalize().multiplyScalar(r);this.computeGeometry(t),this.sphere=new o.Mesh(t,this.materials),this.add(this.sphere)}},{key:"render",value:function(e){this.seed=this.randRange(0,1e3),this.randRange(.5,1),this.map_range(e.waterLevel*e.waterLevel,0,.8,0,3),this.cloudMap.render({seed:this.seed,resolution:this.resolution,res1:this.randRange(.1,1),res2:this.randRange(.1,1),resMix:this.randRange(.1,1),mixScale:this.randRange(.1,1)}),this.updateMaterial()}},{key:"map_range",value:function(e,n,t,o,r){return o+(r-o)*(e-n)/(t-n)}},{key:"updateMaterial",value:function(){for(var e=0;e<6;e++){var n=this.materials[e];n.roughness=this.settings.roughness,n.metalness=this.settings.metalness,n.opacity=this.settings.opacity,n.map=this.cloudMaps[e],n.color=this.settings.color,n.alphaMap=this.cloudMaps[e],n.bumpMap=this.cloudMaps[e],n.bumpScale=1}}},{key:"randomizeColor",value:function(){this.settings.color.setRGB(this.randRange(.5,1),this.randRange(.5,1),this.randRange(.5,1)),this.updateMaterial()}},{key:"randomize",value:function(){this.settings.opacity=this.randRange(.25,1),this.randomizeColor()}},{key:"randRange",value:function(e,n){var t=n-e;return e+window.rng()*t}},{key:"computeGeometry",value:function(e){e.computeVertexNormals(),e.computeFaceNormals(),e.computeMorphNormals(),e.computeBoundingSphere(),e.computeBoundingBox(),e.verticesNeedUpdate=!0,e.elementsNeedUpdate=!0,e.uvsNeedUpdate=!0,e.normalsNeedUpdate=!0,e.colorsNeedUpdate=!0,e.lineDistancesNeedUpdate=!0,e.groupsNeedUpdate=!0}}])&&Qe(t.prototype,r),i&&Qe(t,i),s}(o.Object3D),tn=t("zTiM"),on=t.n(tn);function rn(e){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function an(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function sn(e,n){return(sn=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function cn(e,n){return!n||"object"!==rn(n)&&"function"!=typeof n?ln(e):n}function ln(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function un(e,n,t){return(un="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var o=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=dn(e)););return e}(e,n);if(o){var r=Object.getOwnPropertyDescriptor(o,n);return r.get?r.get.call(t):r.value}})(e,n,t||e)}function dn(e){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gn=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&sn(e,n)}(s,e);var n,t,r,i,a=(n=s,function(){var e,t=dn(n);if(fn()){var o=dn(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return cn(this,e)});function s(){var e;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this)).setup(),un(dn(s.prototype),"setup",ln(e)).call(ln(e)),e}return t=s,(r=[{key:"setup",value:function(){this.mats=[];for(var e=0;e<6;e++)this.mats[e]=new o.ShaderMaterial({uniforms:{index:{type:"i",value:e},seed:{type:"f",value:0},resolution:{type:"f",value:0},res1:{type:"f",value:0},res2:{type:"f",value:0},resMix:{type:"f",value:0},mixScale:{type:"f",value:0},nebulaeMap:{type:"t",value:new o.Texture}},vertexShader:V.a,fragmentShader:on.a,transparent:!0,depthWrite:!1})}},{key:"render",value:function(e){for(var n=0;n<6;n++)this.mats[n].uniforms.seed.value=e.seed,this.mats[n].uniforms.resolution.value=e.resolution,this.mats[n].uniforms.res1.value=e.res1,this.mats[n].uniforms.res2.value=e.res2,this.mats[n].uniforms.resMix.value=e.resMix,this.mats[n].uniforms.mixScale.value=e.mixScale,this.mats[n].uniforms.nebulaeMap.value=e.nebulaeMap,this.mats[n].needsUpdate=!0;un(dn(s.prototype),"render",this).call(this,e)}}])&&an(t.prototype,r),i&&an(t,i),s}(q);function pn(e){return(pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hn(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function vn(e,n){return(vn=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function yn(e,n){return!n||"object"!==pn(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function mn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function xn(e){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wn=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&vn(e,n)}(s,e);var n,t,r,i,a=(n=s,function(){var e,t=xn(n);if(mn()){var o=xn(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return yn(this,e)});function s(){var e;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this)).materials=[],e.roughness=.8,e.metalness=.5,e.emissiveIntensity=1,e.resolution=1024,e.size=5e4,e.settings={speed:.1,res1:e.randRange(.5,2),res2:e.randRange(.5,2),resMix:e.randRange(.5,2),mixScale:e.randRange(.5,2),opacity:1};var n=window.gui.addFolder("Stars");return n.add(e.settings,"res1",.5,2).step(.001),n.add(e.settings,"res2",.5,2).step(.001),n.add(e.settings,"resMix",.5,2).step(.001),n.add(e.settings,"mixScale",.5,2).step(.001),e.starMaps=[],e.setup(),e}return t=s,(r=[{key:"update",value:function(){}},{key:"setup",value:function(){this.starMap=new gn,this.starMaps=this.starMap.maps;for(var e=0;e<6;e++){var n=new o.MeshBasicMaterial({color:new o.Color(16777215),side:o.BackSide});this.materials[e]=n}var t=new o.BoxGeometry(1,1,1,32,32,32),r=this.size;for(var i in t.vertices)t.vertices[i].normalize().multiplyScalar(r);this.computeGeometry(t),this.sphere=new o.Mesh(t,this.materials),this.add(this.sphere)}},{key:"render",value:function(e){this.seed=this.randRange(0,1e3),this.starMap.render({seed:this.seed,resolution:this.resolution,res1:this.settings.res1,res2:this.settings.res2,resMix:this.settings.resMix,mixScale:this.settings.mixScale,nebulaeMap:e.nebulaeMap}),this.updateMaterial()}},{key:"updateMaterial",value:function(){for(var e=0;e<6;e++)this.materials[e].map=this.starMaps[e]}},{key:"randRange",value:function(e,n){var t=n-e;return e+window.rng()*t}},{key:"computeGeometry",value:function(e){e.computeVertexNormals(),e.computeFaceNormals(),e.computeMorphNormals(),e.computeBoundingSphere(),e.computeBoundingBox(),e.verticesNeedUpdate=!0,e.elementsNeedUpdate=!0,e.uvsNeedUpdate=!0,e.normalsNeedUpdate=!0,e.colorsNeedUpdate=!0,e.lineDistancesNeedUpdate=!0,e.groupsNeedUpdate=!0}}])&&hn(t.prototype,r),i&&hn(t,i),s}(o.Object3D),bn=t("/HNH"),zn=t.n(bn);function Pn(e){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sn(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Rn(e,n){return(Rn=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Cn(e,n){return!n||"object"!==Pn(n)&&"function"!=typeof n?Mn(e):n}function Mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function On(e,n,t){return(On="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var o=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=jn(e)););return e}(e,n);if(o){var r=Object.getOwnPropertyDescriptor(o,n);return r.get?r.get.call(t):r.value}})(e,n,t||e)}function jn(e){return(jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var kn=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Rn(e,n)}(s,e);var n,t,r,i,a=(n=s,function(){var e,t=jn(n);if(_n()){var o=jn(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return Cn(this,e)});function s(){var e;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this)).setup(),On(jn(s.prototype),"setup",Mn(e)).call(Mn(e)),e}return t=s,(r=[{key:"setup",value:function(){this.mats=[];for(var e=0;e<6;e++)this.mats[e]=new o.ShaderMaterial({uniforms:{index:{type:"i",value:e},seed:{type:"f",value:0},resolution:{type:"f",value:0},res1:{type:"f",value:0},res2:{type:"f",value:0},resMix:{type:"f",value:0},mixScale:{type:"f",value:0},nebulaeMap:{type:"t",value:new o.Texture}},vertexShader:V.a,fragmentShader:zn.a,transparent:!0,depthWrite:!1})}},{key:"render",value:function(e){for(var n=0;n<6;n++)this.mats[n].uniforms.seed.value=e.seed,this.mats[n].uniforms.resolution.value=e.resolution,this.mats[n].uniforms.res1.value=e.res1,this.mats[n].uniforms.res2.value=e.res2,this.mats[n].uniforms.resMix.value=e.resMix,this.mats[n].uniforms.mixScale.value=e.mixScale,this.mats[n].uniforms.nebulaeMap.value=e.nebulaeMap,this.mats[n].needsUpdate=!0;On(jn(s.prototype),"render",this).call(this,e)}}])&&Sn(t.prototype,r),i&&Sn(t,i),s}(q);function Kn(e){return(Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ln(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Dn(e,n){return(Dn=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Nn(e,n){return!n||"object"!==Kn(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Gn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function En(e){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fn=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Dn(e,n)}(s,e);var n,t,r,i,a=(n=s,function(){var e,t=En(n);if(Gn()){var o=En(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return Nn(this,e)});function s(){var e;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this)).materials=[],e.roughness=.8,e.resolution=1024,e.size=45e3,e.settings={speed:.1,res1:e.randRange(1,3),res2:e.randRange(1,3),resMix:e.randRange(1,3),mixScale:e.randRange(1,3),opacity:1};var n=window.gui.addFolder("Nebula");return n.add(e.settings,"opacity",0,1).step(.01).onChange((function(n){e.updateMaterial()})),n.add(e.settings,"res1",1,3).step(.001),n.add(e.settings,"res2",1,3).step(.001),n.add(e.settings,"resMix",1,3).step(.001),n.add(e.settings,"mixScale",1,3).step(.001),e.skyMaps=[],e.setup(),e}return t=s,(r=[{key:"update",value:function(){}},{key:"setup",value:function(){this.skyMap=new kn,this.skyMaps=this.skyMap.maps;for(var e=0;e<6;e++){var n=new o.MeshBasicMaterial({color:new o.Color(16777215),side:o.BackSide,transparent:!0,opacity:this.settings.opacity});this.materials[e]=n}var t=new o.BoxGeometry(1,1,1,32,32,32),r=this.size;for(var i in t.vertices)t.vertices[i].normalize().multiplyScalar(r);this.computeGeometry(t),this.sphere=new o.Mesh(t,this.materials),this.add(this.sphere)}},{key:"render",value:function(e){this.seed=this.randRange(0,1e3),this.skyMap.render({seed:this.seed,resolution:this.resolution,res1:this.settings.res1,res2:this.settings.res2,resMix:this.settings.resMix,mixScale:this.settings.mixScale,nebulaeMap:e.nebulaeMap}),this.updateMaterial()}},{key:"updateMaterial",value:function(){for(var e=0;e<6;e++){var n=this.materials[e];n.map=this.skyMaps[e],n.opacity=this.settings.opacity}}},{key:"randRange",value:function(e,n){var t=n-e;return e+window.rng()*t}},{key:"computeGeometry",value:function(e){e.computeVertexNormals(),e.computeFaceNormals(),e.computeMorphNormals(),e.computeBoundingSphere(),e.computeBoundingBox(),e.verticesNeedUpdate=!0,e.elementsNeedUpdate=!0,e.uvsNeedUpdate=!0,e.normalsNeedUpdate=!0,e.colorsNeedUpdate=!0,e.lineDistancesNeedUpdate=!0,e.groupsNeedUpdate=!0}}])&&Ln(t.prototype,r),i&&Ln(t,i),s}(o.Object3D);function Tn(e){return(Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function In(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function An(e,n){return(An=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Bn(e,n){return!n||"object"!==Tn(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function qn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Un(e){return(Un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Vn=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&An(e,n)}(s,e);var n,t,r,i,a=(n=s,function(){var e,t=Un(n);if(qn()){var o=Un(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return Bn(this,e)});function s(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,s),a.call(this,"sunCanvas",1024,"200px")}return t=s,(r=[{key:"generateTexture",value:function(){var e=this.randRange(0,1),n=this.randRange(0,.5),t=this.randRange(.2,.5);this.baseColor=(new o.Color).setHSL(e,n,t),this.baseHue=this.randRange(0,1),this.clear(),this.drawBaseGradient(),this.drawStarGradient(),this.drawBeams(),this.drawHalo(),this.texture=new o.CanvasTexture(this.canvas)}},{key:"drawBaseGradient",value:function(){var e=this.width/2,n=this.width/2,t=this.width/2,o=this.baseHue,r=.8,i=.1,a=this.ctx.createRadialGradient(e,n,0,e,n,t);this.addColorToGradient(0,{h:o,s:r,l:i,a:.5},a),this.addColorToGradient(.4,{h:o,s:r,l:i,a:.7},a),this.addColorToGradient(.6,{h:o-.05,s:r,l:i,a:.3},a),this.addColorToGradient(.9,{h:o,s:r,l:i,a:0},a),this.ctx.fillStyle=a,this.ctx.fillRect(0,0,this.width,this.height)}},{key:"drawStarGradient",value:function(){var e,n=this.width/2,t=this.width/2,o=this.width/2,r=this.baseHue-.1,i=.6;e=this.randRange(.03,.07);var a=this.ctx.createRadialGradient(n,t,0,n,t,o);this.addColorToGradient(0,{h:r,s:i,l:1,a:1},a),this.addColorToGradient(e,{h:r,s:i,l:.9,a:1},a),this.addColorToGradient(2*e,{h:r,s:i,l:.6,a:.9},a),this.addColorToGradient(6*e,{h:r,s:i,l:.4,a:.4},a),this.addColorToGradient(11*e,{h:r,s:i,l:0,a:0},a),this.ctx.fillStyle=a,this.ctx.fillRect(0,0,this.width,this.height)}},{key:"drawBeams",value:function(){var e=this.width/2,n=this.width/2,t=this.width/2,o=this.baseHue,r=.9;this.randRange(.5,1);var i=this.ctx.createRadialGradient(e,n,0,e,n,t);this.addColorToGradient(0,{h:o,s:1,l:r,a:.1},i),this.addColorToGradient(.15,{h:o,s:1,l:r,a:.025},i),this.addColorToGradient(1,{h:o,s:1,l:r,a:0},i);var a=Math.floor(this.randRange(1,5));a*=2;for(var s=this.randRange(.05,.2),c=2*Math.PI/a,l=0;l<a;l++)for(var f=c*l,u=0;u<5;u++)f+=.02,this.ctx.beginPath(),this.ctx.moveTo(e,n),this.ctx.arc(e,n,t,f,f+s),this.ctx.lineTo(e,n),this.ctx.fillStyle=i,this.ctx.fill();s=this.randRange(.01,.1),i=this.ctx.createRadialGradient(e,n,0,e,n,t),this.addColorToGradient(0,{h:o,s:1,l:r,a:.1},i),this.addColorToGradient(.15,{h:o,s:1,l:r,a:.025},i),this.addColorToGradient(1,{h:o,s:1,l:r,a:0},i);for(var d=this.randRange(.1,Math.PI),g=0;g<a;g++)for(var p=c*g+d,h=0;h<3;h++)p+=.02,this.ctx.beginPath(),this.ctx.moveTo(e,n),this.ctx.arc(e,n,t,p,p+s),this.ctx.lineTo(e,n),this.ctx.fillStyle=i,this.ctx.fill()}},{key:"drawHalo",value:function(){var e,n=this.width/2,t=this.width/2,o=this.width/2,r=this.baseHue+this.randRange(-.2,.2);e=this.randRange(.1,.2);var i=this.ctx.createRadialGradient(n,t,0,n,t,o);this.addColorToGradient(e-.05,{h:r,s:1,l:.7,a:0},i),this.addColorToGradient(e,{h:r,s:1,l:.7,a:.2},i),this.addColorToGradient(e+.05,{h:r,s:1,l:.7,a:0},i),this.ctx.fillStyle=i,this.ctx.fillRect(0,0,this.width,this.height)}},{key:"addColorToGradient",value:function(e,n,t){t.addColorStop(e,this.getRGBAString(n))}},{key:"getRGBAString",value:function(e){var n=(new o.Color).setHSL(e.h,e.s,e.l);return"rgba("+Math.round(255*n.r)+", "+Math.round(255*n.g)+", "+Math.round(255*n.b)+","+e.a+")"}}])&&In(t.prototype,r),i&&In(t,i),s}(P);function Hn(e){return(Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wn(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Yn(e,n){return(Yn=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function $n(e,n){return!n||"object"!==Hn(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Qn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Zn(e){return(Zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xn=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Yn(e,n)}(s,e);var n,t,r,i,a=(n=s,function(){var e,t=Zn(n);if(Qn()){var o=Zn(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return $n(this,e)});function s(){var e;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this)).setup(),e}return t=s,(r=[{key:"setup",value:function(){var e=new o.TextureLoader;this.textureFlare=e.load("assets/textures/flare/lensFlareSun.jpg"),this.textureRing=e.load("assets/textures/flare/lensFlareRing.jpg"),this.textureBlur=e.load("assets/textures/flare/lensFlareBlur.jpg"),this.textureSun=e.load("assets/textures/flare/lensFlare.jpg"),this.sunTexture=new Vn,this.lensFlare=null}},{key:"createLensFlare",value:function(){var e=this.randRange(0,1),n=(new o.Color).setHSL(e,1,1);(new o.Color).setHSL(this.randRange(0,1),1,.5),this.randRange(1e3,2e3),this.lensFlare=new o.LensFlare(this.sunTexture.texture,1500,0,o.AdditiveBlending,n),this.lensFlare.add(this.sunTexture.texture,3e3,.1,o.AdditiveBlending,n,.2);for(var t=this.randRange(15,25),r=0;r<t;r++){var i=this.randRange(5,200),a=this.randRange(.05,.4),s=this.randomColor(),c=this.randRange(.1,.3);this.lensFlare.add(this.textureBlur,i,a,o.AdditiveBlending,s,c)}for(var l=this.randRange(5,15),f=0;f<l;f++){var u=this.randRange(5,200),d=this.randRange(-.05,-.2),g=this.randomColor(),p=this.randRange(.1,.3);this.lensFlare.add(this.textureBlur,u,d,o.AdditiveBlending,g,p)}for(var h=this.randRange(5,15),v=0;v<h;v++){var y=this.randRange(200,400),m=this.randRange(-.1,.2),x=this.randomColor(),w=this.randRange(0,.1);this.lensFlare.add(this.textureRing,y,m,o.AdditiveBlending,x,w)}this.lensFlare.position.set(-2e4,2e4,2e4),this.add(this.lensFlare)}},{key:"randomColor",value:function(){return(new o.Color).setHSL(this.randRange(0,1),this.randRange(0,.9),.5)}},{key:"randRange",value:function(e,n){var t=n-e;return e+Math.random()*t}},{key:"render",value:function(){this.remove(this.lensFlare),this.sunTexture.generateTexture(),this.createLensFlare()}}])&&Wn(t.prototype,r),i&&Wn(t,i),s}(o.Object3D),Jn=t("uEp1"),et=t.n(Jn),nt=t("uxjU"),tt=t.n(nt);function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function it(e,n){return(it=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function at(e,n){return!n||"object"!==ot(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function st(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lt=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&it(e,n)}(s,e);var n,t,r,i,a=(n=s,function(){var e,t=ct(n);if(st()){var o=ct(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return at(this,e)});function s(){var e;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this)).size=1030,e.settings={glow:1,c:.33,p:1.27,color:new o.Color(5636095)};var n=window.gui.addFolder("Glow");return n.add(e.settings,"glow",0,1).step(.01).onChange((function(n){e.updateMaterial()})),n.addColor(e.settings,"color").onChange((function(n){e.updateMaterial()})),n.add(e.settings,"c",0,1).step(.01).onChange((function(n){e.updateMaterial()})),n.add(e.settings,"p",0,6).step(.01).onChange((function(n){e.updateMaterial()})),e.mat=new o.ShaderMaterial({vertexShader:et.a,fragmentShader:tt.a,uniforms:{c:{type:"f",value:e.settings.c},p:{type:"f",value:e.settings.p},glowColor:{type:"c",value:e.settings.color},viewVector:{type:"v3",value:new o.Vector3(window.camera.position)}}}),e.mat.transparent=!0,e.mat.blending=o.AdditiveBlending,e.mat.side=o.BackSide,e.geo=new o.IcosahedronBufferGeometry(1,6),e.sphere=new o.Mesh(e.geo,e.mat),e.sphere.scale.set(e.size,e.size,e.size),e.add(e.sphere),e}return t=s,(r=[{key:"update",value:function(){this.mat.uniforms.viewVector.value.subVectors(window.camera.position,this.sphere.position)}},{key:"updateMaterial",value:function(){this.mat.uniforms.c.value=this.settings.c,this.mat.uniforms.p.value=this.settings.p,this.mat.uniforms.glowColor.value=this.settings.color}},{key:"randomize",value:function(){this.settings.glow=this.randRange(.25,1),this.randomizeColor()}},{key:"randomizeColor",value:function(){this.settings.color.setRGB(window.rng(),window.rng(),window.rng()),this.updateMaterial()}}])&&rt(t.prototype,r),i&&rt(t,i),s}(o.Object3D);function ft(e){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function dt(e,n){return(dt=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function gt(e,n){return!n||"object"!==ft(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function pt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ht(e){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vt=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&dt(e,n)}(s,e);var n,t,r,i,a=(n=s,function(){var e,t=ht(n);if(pt()){var o=ht(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return gt(this,e)});function s(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,s),a.call(this,"nebulaeCanvas",512,"200px")}return t=s,(r=[{key:"generateTexture",value:function(){var e=this.randRange(0,1),n=this.randRange(.2,.8),t=this.randRange(.2,.6);this.baseColor=(new o.Color).setHSL(e,n,t),this.colorAngle=this.randRange(0,.5),this.fillBaseColor(),this.drawShapes(),this.texture=new o.CanvasTexture(this.canvas)}},{key:"toggleCanvasDisplay",value:function(e){this.canvas.style.display=e?"block":"none"}},{key:"fillBaseColor",value:function(){this.ctx.fillStyle=this.toCanvasColor(this.baseColor),this.ctx.fillRect(0,0,this.width,this.height)}},{key:"drawShapes",value:function(){for(var e=Math.round(this.randRange(20,50)),n=0;n<e;n++)this.randomGradientCircle()}},{key:"randomGradientCircle",value:function(){var e=this.randRange(0,this.width),n=this.randRange(0,this.height),t=e,o=n,r=this.randRange(100,200),i=this.ctx.createRadialGradient(e,n,0,t,o,r),a=this.randomColor();i.addColorStop(0,"rgba("+a.r+", "+a.g+", "+a.b+", 1.0)"),i.addColorStop(1,"rgba("+a.r+", "+a.g+", "+a.b+", 0.0)"),this.ctx.fillStyle=i,this.ctx.fillRect(0,0,this.width,this.height)}},{key:"randomColor",value:function(){var e=this.baseColor.clone(),n=0,t=this.randRange(0,1);n=t<.33?0+this.randRange(-.1,.1):t<.66?this.colorAngle+this.randRange(-.1,.1):-this.colorAngle+this.randRange(-.1,.1);var o=this.randRange(-.4,.2),r=this.randRange(-.4,.2);return e.offsetHSL(n,o,r),{r:Math.round(255*e.r),g:Math.round(255*e.g),b:Math.round(255*e.b)}}}])&&ut(t.prototype,r),i&&ut(t,i),s}(P),yt=t("YSVl"),mt=t.n(yt),xt=(t("RVb6"),t("10kV")),wt=t.n(xt),bt=t("PP0w"),zt=t.n(bt);function Pt(e){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function St(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Rt(e,n){return(Rt=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Ct(e,n){return!n||"object"!==Pt(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Mt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _t(e){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ot=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Rt(e,n)}(s,e);var n,t,r,i,a=(n=s,function(){var e,t=_t(n);if(Mt()){var o=_t(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return Ct(this,e)});function s(){var e;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this)).size=1030,e.clock=new o.Clock,e.settings={Kr:.0025,Km:.001,ESun:20,g:-.95,innerRadius:1e3,outerRadius:e.size,wavelength:[.65,.57,.475],scaleDepth:.25,mieScaleDepth:.1,color:new o.Color(.72,.27,.35)},e.atmosphereUniforms={v3LightPosition:{type:"v3",value:new o.Vector3(-1,1,1)},v3InvWavelength:{type:"v3",value:new o.Vector3(1/Math.pow(e.settings.wavelength[0],4),1/Math.pow(e.settings.wavelength[1],4),1/Math.pow(e.settings.wavelength[2],4))},fCameraHeight:{type:"f",value:0},fCameraHeight2:{type:"f",value:0},fInnerRadius:{type:"f",value:e.settings.innerRadius},fInnerRadius2:{type:"f",value:e.settings.innerRadius*e.settings.innerRadius},fOuterRadius:{type:"f",value:e.settings.outerRadius},fOuterRadius2:{type:"f",value:e.settings.outerRadius*e.settings.outerRadius},fKrESun:{type:"f",value:e.settings.Kr*e.settings.ESun},fKmESun:{type:"f",value:e.settings.Km*e.settings.ESun},fKr4PI:{type:"f",value:4*e.settings.Kr*Math.PI},fKm4PI:{type:"f",value:4*e.settings.Km*Math.PI},fScale:{type:"f",value:1/(e.settings.outerRadius-e.settings.innerRadius)},fScaleDepth:{type:"f",value:e.settings.scaleDepth},fScaleOverScaleDepth:{type:"f",value:1/(e.settings.outerRadius-e.settings.innerRadius)/e.settings.scaleDepth},g:{type:"f",value:e.settings.g},g2:{type:"f",value:e.settings.g*e.settings.g},nSamples:{type:"i",value:3},fSamples:{type:"f",value:3},atmosphereColor:{type:"v3",value:new o.Vector4(e.settings.color.r,e.settings.color.g,e.settings.color.b,1)},tDisplacement:{type:"t",value:0},tSkyboxDiffuse:{type:"t",value:0},fNightScale:{type:"f",value:1},level:{type:"f",value:window.camera.position.length()}},e.mat=new o.ShaderMaterial({uniforms:e.atmosphereUniforms,vertexShader:wt.a,fragmentShader:zt.a,transparent:!0,side:o.BackSide}),e.geo=new o.IcosahedronGeometry(e.size,6),e.sphere=new o.Mesh(e.geo,e.mat),e.add(e.sphere),e}return t=s,(r=[{key:"update",value:function(){this.updateUniforms()}},{key:"updateUniforms",value:function(){var e=window.camera.position.length();this.atmosphereUniforms.fCameraHeight.value=e,this.atmosphereUniforms.fCameraHeight2.value=e*e,this.atmosphereUniforms.v3InvWavelength.value=new o.Vector3(1/Math.pow(this.settings.color.r,4),1/Math.pow(this.settings.color.g,4),1/Math.pow(this.settings.color.b,4)),this.atmosphereUniforms.level.value=window.camera.position.distanceTo(new o.Vector3(0,0,0))}}])&&St(t.prototype,r),i&&St(t,i),s}(o.Object3D),jt=t("ILOl"),kt=t.n(jt);function Kt(e){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lt(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Dt(e,n){return(Dt=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Nt(e,n){return!n||"object"!==Kt(n)&&"function"!=typeof n?Gt(e):n}function Gt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Et(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ft(e){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Tt=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Dt(e,n)}(s,e);var n,t,r,i,a=(n=s,function(){var e,t=Ft(n);if(Et()){var o=Ft(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return Nt(this,e)});function s(){var e;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this)).seedString="Scarlett",e.initSeed(),e.materials=[],e.roughness=.8,e.metalness=.5,e.normalScale=3,e.resolution=1024,e.size=1e3,e.waterLevel=0,e.heightMaps=[],e.moistureMaps=[],e.textureMaps=[],e.normalMaps=[],e.roughnessMaps=[],e.rotate=!0,e.autoGenerate=!1,e.autoGenCountCurrent=0,e.autoGenTime=180,e.autoGenCountMax=60*e.autoGenTime;var n=gui.addFolder("Planet");n.add(Gt(e),"rotate"),n.add(Gt(e),"resolution",[256,512,1024,2048,4096]).onChange((function(n){e.regenerate()})),n.add(Gt(e),"roughness",0,1).onChange((function(n){e.updateMaterial()})),n.add(Gt(e),"metalness",0,1).onChange((function(n){e.updateMaterial()})),n.add(Gt(e),"normalScale",-3,6).onChange((function(n){e.updateMaterial()})),e.createSpace(),e.createInnerPlanet(),e.createOuterPlanet(),e.loadSeedFromURL();var t=window.gui.addFolder("General");e.seedStringControl=t.add(Gt(e),"seedString").listen(),e.seedStringControl.onFinishChange((function(n){e.loadSeedFromTextfield()})),e.displayMap="textureMap";var o=window.gui.addFolder("Debug");return o.add(Gt(e),"displayMap",["textureMap","heightMap","moistureMap","normalMap","roughnessMap"]).onChange((function(n){e.updateMaterial()})),e.showBiomeMap=!1,o.add(Gt(e),"showBiomeMap").onChange((function(n){e.biome&&e.biome.toggleCanvasDisplay(n)})),e.showNebulaMap=!1,o.add(Gt(e),"showNebulaMap").onChange((function(n){e.nebulaeGradient&&e.nebulaeGradient.toggleCanvasDisplay(n)})),e.showSunMap=!1,o.add(Gt(e),"showSunMap").onChange((function(n){e.sun&&e.sun.sunTexture.toggleCanvasDisplay(n)})),o.add(Gt(e),"autoGenerate"),o.add(Gt(e),"autoGenTime",30,300).step(1).onChange((function(n){e.autoGenCountMax=60*e.autoGenTime})),window.gui.add(Gt(e),"randomize"),document.addEventListener("keydown",(function(n){32==n.keyCode&&e.randomize()})),window.onpopstate=function(n){e.loadSeedFromURL()},e.renderUI(),e}return t=s,(r=[{key:"createSpace",value:function(){this.nebulaeGradient=new vt,this.stars=new wn,this.add(this.stars),this.nebula=new Fn,this.add(this.nebula),this.sun=new Xn,this.add(this.sun)}},{key:"createInnerPlanet",value:function(){this.biome=new j,this.heightMap=new te,this.heightMaps=this.heightMap.maps,this.moistureMap=new te,this.moistureMaps=this.moistureMap.maps,this.textureMap=new ge,this.textureMaps=this.textureMap.maps,this.normalMap=new Ce,this.normalMaps=this.normalMap.maps,this.roughnessMap=new Ee,this.roughnessMaps=this.roughnessMap.maps;for(var e=0;e<6;e++){var n=new o.MeshStandardMaterial({color:new o.Color(16777215)});this.materials[e]=n}var t=new o.BoxGeometry(1,1,1,64,64,64),r=this.size;for(var i in t.vertices)t.vertices[i].normalize().multiplyScalar(r);this.computeGeometry(t),this.ground=new o.Mesh(t,this.materials),this.add(this.ground)}},{key:"createOuterPlanet",value:function(){this.clouds=new nn,this.add(this.clouds),this.glow=new lt,this.add(this.glow),this.atmosphere=new A,this.add(this.atmosphere),this.atmosphereRing=new Ot,this.add(this.atmosphereRing)}},{key:"update",value:function(){this.rotate&&(this.ground.rotation.y+=5e-4,this.stars.rotation.y+=4e-4,this.nebula.rotation.y+=3e-4,this.clouds.rotation.y+=8e-4),this.atmosphere.update(),this.atmosphereRing.update(),this.glow.update(),this.autoGenerate&&(this.autoGenCountCurrent++,this.autoGenCountCurrent>this.autoGenCountMax&&this.randomize()),this.stars.position.copy(window.camera.position),this.nebula.position.copy(window.camera.position)}},{key:"renderUI",value:function(){var e=this,n=document.createElement("div");n.setAttribute("id","infoBoxHolder"),document.body.appendChild(n);var t=document.createElement("div");t.setAttribute("id","newPlanetButtonHolder"),t.setAttribute("class","text-center"),t.innerHTML="<button id='newPlanetButton' class='btn btn-primary'>New</button>",n.appendChild(t),document.getElementById("newPlanetButton").addEventListener("click",(function(n){e.randomize()}));var o=document.createElement("div");o.setAttribute("id","infoBox"),o.innerHTML="Planet<br><div id='planetName'></div><br><div id='instructions'>H - Show/Hide UI<br>SPACEBAR - New Planet</div>",n.appendChild(o);var r=document.createElement("div");r.setAttribute("id","line"),n.appendChild(r),n.appendChild(window.gui.domElement),this.updatePlanetName()}},{key:"updatePlanetName",value:function(){var e=document.getElementById("planetName");null!=e&&(e.innerHTML=this.seedString)}},{key:"initSeed",value:function(){window.rng=mt()(this.seedString)}},{key:"loadSeedFromURL",value:function(){this.seedString=this.getParameterByName("seed"),this.seedString?(console.log("seed string exists"),this.regenerate()):(console.log("no seed string"),this.randomize())}},{key:"loadSeedFromTextfield",value:function(){var e=this.updateQueryString("seed",this.seedString);window.history.pushState({seed:this.seedString},this.seedString,e),this.regenerate()}},{key:"regenerate",value:function(){this.autoGenCountCurrent=0,this.renderScene()}},{key:"capitalizeFirstLetter",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"randomize",value:function(){var e=Math.random(),n=0;n=e>.8?1:e>.4?2:3,this.seedString="";for(var t=0;t<n;t++)this.seedString+=this.capitalizeFirstLetter(kt()({min:2,max:8})),t<n-1&&(this.seedString+=" ");var o=this.updateQueryString("seed",this.seedString);window.history.pushState({seed:this.seedString},this.seedString,o),this.autoGenCountCurrent=0,this.renderScene()}},{key:"renderScene",value:function(){var e=this;this.initSeed(),this.updatePlanetName(),this.seed=1e3*this.randRange(0,1),this.waterLevel=this.randRange(.1,.5),this.stars.resolution=this.resolution,this.nebula.resolution=this.resolution,this.clouds.resolution=this.resolution,this.updateNormalScaleForRes(this.resolution),this.biome.generateTexture({waterLevel:this.waterLevel}),this.nebulaeGradient.generateTexture(),this.atmosphere.randomize(),this.clouds.randomize(),window.renderQueue.start(),this.stars.render({nebulaeMap:this.nebulaeGradient.texture}),this.nebula.render({nebulaeMap:this.nebulaeGradient.texture}),this.sun.render();var n=.01,t=5;this.heightMap.render({seed:this.seed,resolution:this.resolution,res1:this.randRange(n,t),res2:this.randRange(n,t),resMix:this.randRange(n,t),mixScale:this.randRange(.5,1),doesRidged:Math.floor(this.randRange(0,4))});var o=this.randRange(3,10);t*=o,n*=o,this.moistureMap.render({seed:this.seed+392.253,resolution:this.resolution,res1:this.randRange(n,t),res2:this.randRange(n,t),resMix:this.randRange(n,t),mixScale:this.randRange(.5,1),doesRidged:Math.floor(this.randRange(0,4))}),this.textureMap.render({resolution:this.resolution,heightMaps:this.heightMaps,moistureMaps:this.moistureMaps,biomeMap:this.biome.texture}),this.normalMap.render({resolution:this.resolution,waterLevel:this.waterLevel,heightMaps:this.heightMaps,textureMaps:this.textureMaps}),this.roughnessMap.render({resolution:this.resolution,heightMaps:this.heightMaps,waterLevel:this.waterLevel}),this.clouds.render({waterLevel:this.waterLevel}),window.renderQueue.addCallback((function(){e.updateMaterial()}))}},{key:"updateMaterial",value:function(){for(var e=0;e<6;e++){var n=this.materials[e];n.roughness=this.roughness,n.metalness=this.metalness,"textureMap"===this.displayMap?(n.map=this.textureMaps[e],n.normalMap=this.normalMaps[e],n.normalScale=new o.Vector2(this.normalScale,this.normalScale),n.roughnessMap=this.roughnessMaps[e]):"heightMap"===this.displayMap?(n.map=this.heightMaps[e],n.normalMap=null,n.roughnessMap=null):"moistureMap"===this.displayMap?(n.map=this.moistureMaps[e],n.normalMap=null,n.roughnessMap=null):"normalMap"===this.displayMap?(n.map=this.normalMaps[e],n.normalMap=null,n.roughnessMap=null):"roughnessMap"===this.displayMap&&(n.map=this.roughnessMaps[e],n.normalMap=null,n.roughnessMap=null),n.needsUpdate=!0}}},{key:"updateNormalScaleForRes",value:function(e){256===e&&(this.normalScale=.25),512===e&&(this.normalScale=.5),1024===e&&(this.normalScale=1),2048===e&&(this.normalScale=1.5),4096===e&&(this.normalScale=3)}},{key:"randRange",value:function(e,n){var t=n-e;return e+window.rng()*t}},{key:"computeGeometry",value:function(e){e.computeVertexNormals(),e.computeFaceNormals(),e.computeMorphNormals(),e.computeBoundingSphere(),e.computeBoundingBox(),e.verticesNeedUpdate=!0,e.elementsNeedUpdate=!0,e.uvsNeedUpdate=!0,e.normalsNeedUpdate=!0,e.colorsNeedUpdate=!0,e.lineDistancesNeedUpdate=!0,e.groupsNeedUpdate=!0}},{key:"updateQueryString",value:function(e,n,t){t||(t=window.location.href);var o,r=new RegExp("([?&])"+e+"=.*?(&|#|$)(.*)","gi");if(r.test(t))return null!=n?t.replace(r,"$1"+e+"="+n+"$2$3"):(o=t.split("#"),t=o[0].replace(r,"$1$3").replace(/(&|\?)$/,""),void 0!==o[1]&&null!==o[1]&&(t+="#"+o[1]),t);if(null!=n){var i=-1!==t.indexOf("?")?"&":"?";return o=t.split("#"),t=o[0]+i+e+"="+n,void 0!==o[1]&&null!==o[1]&&(t+="#"+o[1]),t}return t}},{key:"getParameterByName",value:function(e,n){n||(n=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(n);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null}}])&&Lt(t.prototype,r),i&&Lt(t,i),s}(o.Object3D);t("ijfP"),t("DqKU");function It(e){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function At(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Bt(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function qt(e,n,t){return(qt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var o=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=Wt(e)););return e}(e,n);if(o){var r=Object.getOwnPropertyDescriptor(o,n);return r.get?r.get.call(t):r.value}})(e,n,t||e)}function Ut(e,n){return(Ut=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Vt(e,n){return!n||"object"!==It(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Ht(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Wt(e){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Yt=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ut(e,n)}(c,e);var n,t,o,r,a=(n=c,function(){var e,t=Wt(n);if(Ht()){var o=Wt(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return Vt(this,e)});function c(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return At(this,c),(e=a.call(this,n)).planet=new Tt,e.scene.add(e.planet),e.initPostprocessing(),e}return t=c,(o=[{key:"initPostprocessing",value:function(){this.renderer.autoClearColor=!0,this.bloom=!1,this.composer=new i.a.Composer(this._renderer),this.bloomPass=new s.a({blurAmount:3,applyZoomBlur:!0}),this.godrayPass=new l.a;var e=window.gui.addFolder("Post Processing");e.add(this,"bloom"),e.add(this.bloomPass.params,"blurAmount",0,5)}},{key:"animate",value:function(){qt(Wt(c.prototype),"animate",this).call(this),window.renderQueue.update(),this.planet.update(),this.bloom&&(this.composer.reset(),this.composer.render(this.scene,this.camera),this.composer.pass(this.bloomPass),this.composer.pass(this.godrayPass),this.composer.toScreen())}}])&&Bt(t.prototype,o),r&&Bt(t,r),c}(w);n.a=Yt},qRcc:function(e,n){e.exports="#define GLSLIFY 1\nvarying vec3 vNormal;\nvarying vec3 vPosition;\nvarying vec3 cameraVector;\n\nuniform float time;\n\nvoid main() {\n    // gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n\n    // vPosition = normalize(position) * scale;\n    vPosition = position;\n    vNormal = normal;\n    cameraVector = cameraPosition - vPosition;\n\n    // vec3 newPosition = position + normal * amplitude * displacement;\n    vec3 newPosition = position;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(newPosition, 1.0);\n}\n"},uEp1:function(e,n){e.exports="#define GLSLIFY 1\nuniform vec3 viewVector;\nuniform float c;\nuniform float p;\nvarying float intensity;\n\nvoid main()\n{\n    vec3 vNormal = normalize(normalMatrix * normal);\n    vec3 vNormel = normalize(normalMatrix * viewVector);\n    intensity = pow(c - dot(vNormal, vNormel), p);\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n"},uPvV:function(e,n,t){(function(e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var t={isWebGLAvailable:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}},isWebGL2Available:function(){try{var e=document.createElement("canvas");return!(!window.WebGL2RenderingContext||!e.getContext("webgl2"))}catch(e){return!1}},getWebGLErrorMessage:function(){return this.getErrorMessage(1)},getWebGL2ErrorMessage:function(){return this.getErrorMessage(2)},getErrorMessage:function(e){var n={1:window.WebGLRenderingContext,2:window.WebGL2RenderingContext},t='Your $0 does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">$1</a>',o=document.createElement("div");return o.id="webglmessage",o.style.fontFamily="monospace",o.style.fontSize="13px",o.style.fontWeight="normal",o.style.textAlign="center",o.style.background="#fff",o.style.color="#000",o.style.padding="1.5em",o.style.width="400px",o.style.margin="5em auto 0",t=(t=n[e]?t.replace("$0","graphics card"):t.replace("$0","browser")).replace("$1",{1:"WebGL",2:"WebGL 2"}[e]),o.innerHTML=t,o}};"object"===n(e)&&(e.exports=t)}).call(this,t("YuTi")(e))},uxjU:function(e,n){e.exports="#define GLSLIFY 1\nuniform vec3 glowColor;\nvarying float intensity;\n\nvoid main()\n{\n    vec3 glow = glowColor * intensity;\n    gl_FragColor = vec4(glow, 1.0);\n}\n"},zTiM:function(e,n){e.exports='#define GLSLIFY 1\n//\n// GLSL textureless classic 3D noise "cnoise",\n// with an RSL-style periodic variant "pnoise".\n// Author:  Stefan Gustavson (stefan.gustavson@liu.se)\n// Version: 2011-10-11\n//\n// Many thanks to Ian McEwan of Ashima Arts for the\n// ideas for permutation and gradient selection.\n//\n// Copyright (c) 2011 Stefan Gustavson. All rights reserved.\n// Distributed under the MIT license. See LICENSE file.\n// https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute_1(vec4 x)\n{\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec3 fade(vec3 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n// Classic Perlin noise\nfloat cnoise(vec3 P)\n{\n  vec3 Pi0 = floor(P); // Integer part for indexing\n  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1\n  Pi0 = mod289(Pi0);\n  Pi1 = mod289(Pi1);\n  vec3 Pf0 = fract(P); // Fractional part for interpolation\n  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = Pi0.zzzz;\n  vec4 iz1 = Pi1.zzzz;\n\n  vec4 ixy = permute_1(permute_1(ix) + iy);\n  vec4 ixy0 = permute_1(ixy + iz0);\n  vec4 ixy1 = permute_1(ixy + iz1);\n\n  vec4 gx0 = ixy0 * (1.0 / 7.0);\n  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n  gx0 = fract(gx0);\n  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n  vec4 sz0 = step(gz0, vec4(0.0));\n  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n  vec4 gx1 = ixy1 * (1.0 / 7.0);\n  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n  gx1 = fract(gx1);\n  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n  vec4 sz1 = step(gz1, vec4(0.0));\n  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n  g000 *= norm0.x;\n  g010 *= norm0.y;\n  g100 *= norm0.z;\n  g110 *= norm0.w;\n  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n  g001 *= norm1.x;\n  g011 *= norm1.y;\n  g101 *= norm1.z;\n  g111 *= norm1.w;\n\n  float n000 = dot(g000, Pf0);\n  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n  float n111 = dot(g111, Pf1);\n\n  vec3 fade_xyz = fade(Pf0);\n  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n  return 2.2 * n_xyz;\n}\n\n// Permutation polynomial: (34x^2 + x) mod 289\nvec3 permute_0(vec3 x) {\n  return mod((34.0 * x + 1.0) * x, 289.0);\n}\n\nvec3 dist(vec3 x, vec3 y, vec3 z,  bool manhattanDistance) {\n  return manhattanDistance ?  abs(x) + abs(y) + abs(z) :  (x * x + y * y + z * z);\n}\n\nvec2 worley(vec3 P, float jitter, bool manhattanDistance) {\nfloat K = 0.142857142857; // 1/7\nfloat Ko = 0.428571428571; // 1/2-K/2\nfloat  K2 = 0.020408163265306; // 1/(7*7)\nfloat Kz = 0.166666666667; // 1/6\nfloat Kzo = 0.416666666667; // 1/2-1/6*2\n\n\tvec3 Pi = mod(floor(P), 289.0);\n \tvec3 Pf = fract(P) - 0.5;\n\n\tvec3 Pfx = Pf.x + vec3(1.0, 0.0, -1.0);\n\tvec3 Pfy = Pf.y + vec3(1.0, 0.0, -1.0);\n\tvec3 Pfz = Pf.z + vec3(1.0, 0.0, -1.0);\n\n\tvec3 p = permute_0(Pi.x + vec3(-1.0, 0.0, 1.0));\n\tvec3 p1 = permute_0(p + Pi.y - 1.0);\n\tvec3 p2 = permute_0(p + Pi.y);\n\tvec3 p3 = permute_0(p + Pi.y + 1.0);\n\n\tvec3 p11 = permute_0(p1 + Pi.z - 1.0);\n\tvec3 p12 = permute_0(p1 + Pi.z);\n\tvec3 p13 = permute_0(p1 + Pi.z + 1.0);\n\n\tvec3 p21 = permute_0(p2 + Pi.z - 1.0);\n\tvec3 p22 = permute_0(p2 + Pi.z);\n\tvec3 p23 = permute_0(p2 + Pi.z + 1.0);\n\n\tvec3 p31 = permute_0(p3 + Pi.z - 1.0);\n\tvec3 p32 = permute_0(p3 + Pi.z);\n\tvec3 p33 = permute_0(p3 + Pi.z + 1.0);\n\n\tvec3 ox11 = fract(p11*K) - Ko;\n\tvec3 oy11 = mod(floor(p11*K), 7.0)*K - Ko;\n\tvec3 oz11 = floor(p11*K2)*Kz - Kzo; // p11 < 289 guaranteed\n\n\tvec3 ox12 = fract(p12*K) - Ko;\n\tvec3 oy12 = mod(floor(p12*K), 7.0)*K - Ko;\n\tvec3 oz12 = floor(p12*K2)*Kz - Kzo;\n\n\tvec3 ox13 = fract(p13*K) - Ko;\n\tvec3 oy13 = mod(floor(p13*K), 7.0)*K - Ko;\n\tvec3 oz13 = floor(p13*K2)*Kz - Kzo;\n\n\tvec3 ox21 = fract(p21*K) - Ko;\n\tvec3 oy21 = mod(floor(p21*K), 7.0)*K - Ko;\n\tvec3 oz21 = floor(p21*K2)*Kz - Kzo;\n\n\tvec3 ox22 = fract(p22*K) - Ko;\n\tvec3 oy22 = mod(floor(p22*K), 7.0)*K - Ko;\n\tvec3 oz22 = floor(p22*K2)*Kz - Kzo;\n\n\tvec3 ox23 = fract(p23*K) - Ko;\n\tvec3 oy23 = mod(floor(p23*K), 7.0)*K - Ko;\n\tvec3 oz23 = floor(p23*K2)*Kz - Kzo;\n\n\tvec3 ox31 = fract(p31*K) - Ko;\n\tvec3 oy31 = mod(floor(p31*K), 7.0)*K - Ko;\n\tvec3 oz31 = floor(p31*K2)*Kz - Kzo;\n\n\tvec3 ox32 = fract(p32*K) - Ko;\n\tvec3 oy32 = mod(floor(p32*K), 7.0)*K - Ko;\n\tvec3 oz32 = floor(p32*K2)*Kz - Kzo;\n\n\tvec3 ox33 = fract(p33*K) - Ko;\n\tvec3 oy33 = mod(floor(p33*K), 7.0)*K - Ko;\n\tvec3 oz33 = floor(p33*K2)*Kz - Kzo;\n\n\tvec3 dx11 = Pfx + jitter*ox11;\n\tvec3 dy11 = Pfy.x + jitter*oy11;\n\tvec3 dz11 = Pfz.x + jitter*oz11;\n\n\tvec3 dx12 = Pfx + jitter*ox12;\n\tvec3 dy12 = Pfy.x + jitter*oy12;\n\tvec3 dz12 = Pfz.y + jitter*oz12;\n\n\tvec3 dx13 = Pfx + jitter*ox13;\n\tvec3 dy13 = Pfy.x + jitter*oy13;\n\tvec3 dz13 = Pfz.z + jitter*oz13;\n\n\tvec3 dx21 = Pfx + jitter*ox21;\n\tvec3 dy21 = Pfy.y + jitter*oy21;\n\tvec3 dz21 = Pfz.x + jitter*oz21;\n\n\tvec3 dx22 = Pfx + jitter*ox22;\n\tvec3 dy22 = Pfy.y + jitter*oy22;\n\tvec3 dz22 = Pfz.y + jitter*oz22;\n\n\tvec3 dx23 = Pfx + jitter*ox23;\n\tvec3 dy23 = Pfy.y + jitter*oy23;\n\tvec3 dz23 = Pfz.z + jitter*oz23;\n\n\tvec3 dx31 = Pfx + jitter*ox31;\n\tvec3 dy31 = Pfy.z + jitter*oy31;\n\tvec3 dz31 = Pfz.x + jitter*oz31;\n\n\tvec3 dx32 = Pfx + jitter*ox32;\n\tvec3 dy32 = Pfy.z + jitter*oy32;\n\tvec3 dz32 = Pfz.y + jitter*oz32;\n\n\tvec3 dx33 = Pfx + jitter*ox33;\n\tvec3 dy33 = Pfy.z + jitter*oy33;\n\tvec3 dz33 = Pfz.z + jitter*oz33;\n\n\tvec3 d11 = dist(dx11, dy11, dz11, manhattanDistance);\n\tvec3 d12 =dist(dx12, dy12, dz12, manhattanDistance);\n\tvec3 d13 = dist(dx13, dy13, dz13, manhattanDistance);\n\tvec3 d21 = dist(dx21, dy21, dz21, manhattanDistance);\n\tvec3 d22 = dist(dx22, dy22, dz22, manhattanDistance);\n\tvec3 d23 = dist(dx23, dy23, dz23, manhattanDistance);\n\tvec3 d31 = dist(dx31, dy31, dz31, manhattanDistance);\n\tvec3 d32 = dist(dx32, dy32, dz32, manhattanDistance);\n\tvec3 d33 = dist(dx33, dy33, dz33, manhattanDistance);\n\n\tvec3 d1a = min(d11, d12);\n\td12 = max(d11, d12);\n\td11 = min(d1a, d13); // Smallest now not in d12 or d13\n\td13 = max(d1a, d13);\n\td12 = min(d12, d13); // 2nd smallest now not in d13\n\tvec3 d2a = min(d21, d22);\n\td22 = max(d21, d22);\n\td21 = min(d2a, d23); // Smallest now not in d22 or d23\n\td23 = max(d2a, d23);\n\td22 = min(d22, d23); // 2nd smallest now not in d23\n\tvec3 d3a = min(d31, d32);\n\td32 = max(d31, d32);\n\td31 = min(d3a, d33); // Smallest now not in d32 or d33\n\td33 = max(d3a, d33);\n\td32 = min(d32, d33); // 2nd smallest now not in d33\n\tvec3 da = min(d11, d21);\n\td21 = max(d11, d21);\n\td11 = min(da, d31); // Smallest now in d11\n\td31 = max(da, d31); // 2nd smallest now not in d31\n\td11.xy = (d11.x < d11.y) ? d11.xy : d11.yx;\n\td11.xz = (d11.x < d11.z) ? d11.xz : d11.zx; // d11.x now smallest\n\td12 = min(d12, d21); // 2nd smallest now not in d21\n\td12 = min(d12, d22); // nor in d22\n\td12 = min(d12, d31); // nor in d31\n\td12 = min(d12, d32); // nor in d32\n\td11.yz = min(d11.yz,d12.xy); // nor in d12.yz\n\td11.y = min(d11.y,d12.z); // Only two more to go\n\td11.y = min(d11.y,d11.z); // Done! (Phew!)\n\treturn sqrt(d11.xy); // F1, F2\n\n}\n\nvarying vec2 vUv;\nuniform int index;\nuniform float seed;\nuniform float resolution;\nuniform float res1;\nuniform float res2;\nuniform float resMix;\nuniform float mixScale;\nuniform sampler2D nebulaeMap;\n\nvec3 getSphericalCoord(int index, float x, float y, float width) {\n    width /= 2.0;\n    x -= width;\n    y -= width;\n    vec3 coord = vec3(0.0, 0.0, 0.0);\n\n    if (index == 0) { coord.x=width; coord.y=-y; coord.z=-x; }\n    else if (index == 1) { coord.x=-width; coord.y=-y; coord.z=x; }\n    else if (index == 2) { coord.x=x; coord.y=width; coord.z=y; }\n    else if (index == 3) { coord.x=x; coord.y=-width; coord.z=-y; }\n    else if (index == 4) { coord.x=x; coord.y=-y; coord.z=width; }\n    else if (index == 5) { coord.x=-x; coord.y=-y; coord.z=-width; }\n\n    return normalize(coord);\n}\n\nfloat simplex(vec3 pos, float seed) {\n    float n = cnoise(vec3(pos + seed));\n    // return (n + 1.0) * 0.5;\n    n = (n + 1.0) * 0.5;\n    // n = 2.0 * (0.5 - abs(0.5 - n));\n    return n;\n}\n\nfloat baseNoise(vec3 pos, float frq, float seed) {\n    const int octaves = 16;\n    float amp = 0.5;\n\n    float n = 0.0;\n    float gain = 1.0;\n    for (int i=0; i<octaves; i++) {\n        n +=  simplex(vec3(pos.x*gain/frq, pos.y*gain/frq, pos.z*gain/frq), seed+float(i)*10.0) * amp/gain;\n        gain *= 2.0;\n    }\n\n    // increase contrast\n    n = ((n - 0.5) * 3.0) + 0.6;\n    return n;\n}\n\nvoid main() {\n    float x = vUv.x;\n    float y = 1.0 - vUv.y;\n    vec3 sphericalCoord = getSphericalCoord(index, x*resolution, y*resolution, resolution);\n\n    // create base stars\n    vec2 F = worley((sphericalCoord * 200.0) + vec3(seed), 1.0, true);\n    float F1 = F.x;\n    float F2 = F.y;\n\n    float n = F1;\n    n = 1.0 - n;\n    n *= 1.2;\n    n = pow(n, 4.0);\n\n    float sub1 = baseNoise(sphericalCoord, 0.003, seed+32.284);\n    n *= sub1;\n    vec3 starsColor = vec3(n);\n\n    // float n;\n    // float res = 200.0;\n    // float mag = 0.7;\n    // for (int i=0; i<4; i++) {\n    //   vec2 F = worley3D((sphericalCoord * res) + vec3(seed), 1.0, true);\n    //   float F1 = F.x;\n    //   float F2 = F.y;\n    //   n += pow(F1, 1.0) * mag;\n    //   res *= 3.0;\n    //   mag *= 0.5;\n    // }\n    // n = 1.0-n;\n    // n = pow(n, 3.0);\n    // vec3 starsColor = vec3(n);\n\n    gl_FragColor = vec4(starsColor, 1.0);\n}\n'}},[["e6Wu",1,2]]]);